/*--------------------------------------------------------------------------

* Multiplex.js - Comprehensive data-structure and LINQ library for JavaScript.
* Ver 0.9.1 (April 03, 2015)

* Created and maintained by Kamyar Nazeri <Kamyar.Nazeri@yahoo.com>
* Licensed under Apache License Version 2.0
* https://github.com/multiplex/multiplex.js

*--------------------------------------------------------------------------*/

!function(q){"use strict";function e(b,a){switch(typeof b){case N:return a===h;case H:return a===s;case L:return a===c;case $:return a===V;case ja:return a===K;default:return b instanceof a}}function k(a){return typeof a===L}function ha(a,b){return k(a.hasOwnProperty)?a.hasOwnProperty(b):b in a}function ga(a,c){var b="toString";if(k(a)&&!ha(a,b)&&c!==b){var d="function "+c.toString()+(a.toString().match(/\(.*?\)/)||[""])[0]+" {...}";ba(a,b,{value:function(){return d}})}}function i(a,b,c){return ba(a,b,c),ga(a[b],b),a}function D(b,d,a){a=a||{};for(var c in d)ha(b,c)||i(b,c,{value:d[c],writable:a.writable||!1,enumerable:a.enumerable||!1,configurable:a.configurable||!1});return b}function T(b,c){var a=c?b:{},d=c||b;return k(a)&&(a=m(a)),M(D(a,d,{enumerable:!0}))}function m(a,d){var b=arguments,c=k(d)?d:null,e=4===b.length||c?b[2]:d,f=4===b.length||c?b[3]:b[2],h=a.name||a.toString().match(/function (.+)\(.*?\)/)[1];if(ga(a,h),c){var g=function(){i(this,"constructor",{value:a})};g.prototype=c.prototype,a.prototype=new g}return e&&D(a.prototype,e),f&&D(a,f),a}function j(a,b){if(null==a)throw new l("Value cannot be null. Parameter name: "+b)}function a(b,c,a){if(j(a,"type"),!e(b,a))throw new l("Invalid parameter type. Expected type: "+a.toString().match(/^function (.+)\(/)[1]+". Parameter name: "+c)}function d(a){switch(typeof a){case L:return a;case H:var b=/^\s*\(?\s*(([a-z_$]{1}[a-z0-9_$]*)+([, ]+[a-z_$]{1}[a-z0-9_$]*)*)*\s*\)?\s*=>\s*(.*)$/i;if(b.test(a)){var d=a.match(b);return new c((d[1]||"").replace(/ /g,""),"return "+d[4])}throw new l("Cannot parse supplied `. "+a);default:return null}}function fa(d){if(1===arguments.length)return E(d,!0);for(var a=arguments,e=a.length,b=E(a[0],!0),c=0;++c<e;)b=31*(527+b)+E(a[c],!0);return b}function C(a,b,c){return e(c,A)?a===b?!0:null==a||null==b?!1:c.hash(a)===c.hash(b)&&c.equals(a,b):aa(a,b,!0)}function u(a){return e(a,f)?a:new f(a)}function b(a){return u(a).getEnumerator()}function x(a){return e(a,p)?a:e(a,o)||e(a,s)?new S(a):null}function r(a){if(e(a,o))return a.slice(0);if(e(a,s))return a.split("");var c=new o(4),d=b(a),f=0;if(e(a,p)){for(c.length=a.count();d.next();)c[f++]=d.current;return c}for(;d.next();)f>=c.length&&(c.length*=4),c[f++]=d.current;return c.slice(0,f)}function B(c,f,g,d){if(d=d||c.count(),j(f,"array"),a(g,"arrayIndex",h),a(d,"count",h),g>f.length||d>f.length-g)throw new l("The number of elements in the source is greater than the number of elements that the destination array can contain.");var i=-1;if(e(c,o)||e(c,s)||e(c,w))for(;i++<d;)f[g+i]=c[i];else for(var k=b(c);k.next()&&i++<d;)f[g+i]=k.current}function Z(a){return e(a,F)?a:a&&k(a.compare)?F.create(a.compare):F.default}function J(a){return e(a,A)?a:a&&k(a.hash)&&k(a.equals)?A.create(a.hash,a.equals):A.default}function P(b){a(b,"type",c),D(b.prototype,ia)}function multiplex(a){return u(a)}var L="function",W="object",N="number",H="string",$="boolean",ja="symbol",c=q.Function,z=q.Object,h=q.Number,s=q.String,V=q.Boolean,o=q.Array,l=q.Error,y=q.Math,G=q.Date,ca=q.WeakMap,K=q.Symbol,R,ba=k(z.defineProperty)?z.defineProperty:function(b,c,a){b[c]=a.get?a.get.apply(b):a.value},M=k(z.freeze)?z.freeze:function(a){return a},E=function(o){function f(a,b){if(null==a)return 0;switch(typeof a){case N:return j(a);case H:return d(a);case $:return a?1:0;default:return a instanceof G?m(a):b&&k(a.__hash__)?a.__hash__(a):n(a)}}function c(a,b){return 31*(527+a)+b}function d(d){for(var a=e,f=d.length,c=0;f>c;c++)a=((a<<5)-a|0)+d.charCodeAt(c)|0;return a&b}function j(c){var a=0;if(c%1===0)a=c>>32;else switch(c){case h.POSITIVE_INFINITY:a=2139095040;break;case h.NEGATIVE_INFINITY:a=4286578688;break;case 0:a=1073741824;break;case-0:a=3221225472;break;default:-0>=c&&(a=2147483648,c=-c);var d=y.floor(y.log(c)/y.log(2)),e=c/y.pow(2,d)*8388608|0;d+=127,d>=255?(d=255,e=0):0>d&&(d=0),a|=d<<23,a|=8388607&e}return a&b}function m(b){var a=b.getTime();return a^a>>5}var b=2147483647,e=y.floor(32767*y.random())+32767,l=e,a="__hash__",n=function(){if(o&&k(ca)){var h=new ca;return function(i){var a=h.get(i);if(null==a){if(g(i)){a=e,h.set(i,0);for(var j in i)a=c(a,c(d(j),f(i[j],!0)));a&=b}else a=l++>>32;h.set(i,a)}return a}}return function(i){var h=0;if(typeof i.__hash__!==L||typeof(h=i.__hash__())!==N)if(i.__hash__=function(){return h},g(i)){h=e;for(var j in i)j!==a&&(h=c(h,c(d(j),f(i[j],!0))));h&=b}else h=l++>>32;return h}}(),g=function(){var a=z.prototype,b=z.getPrototypeOf;return k(b)?function(c){return b(c)===a}:function(b){return b.constructor.prototype===a}}();return i(G.prototype,a,{value:function(){return m(this)}}),i(h.prototype,a,{value:function(){return j(this.valueOf())}}),i(s.prototype,a,{value:function(){return d(this.valueOf())}}),i(V.prototype,a,{value:function(){return this.valueOf()===!0?1:0}}),i(z.prototype,a,{value:function(){return n(this)}}),f}(!0),aa=function(){function e(a,b,e){if(a===b)return!0;if(null==a||null==b)return!1;switch(typeof a){case N:case H:case $:return a==b;case W:return a instanceof G?c(a,b):e&&k(a.__equals__)?a.__equals__(b):d(a,b);default:return!1}}function c(b,a){return a instanceof G&&b.getTime()===a.getTime()}function b(a,b){return a.valueOf()==b}function d(a,b){if(typeof b===W){if(E(a)!==E(b))return!1;for(var c in a)if(!aa(a[c],b[c]))return!1;return!0}return a==b}var a="__equals__";return i(G.prototype,a,{value:function(a){return c(this,a)}}),i(h.prototype,a,{value:function(a){return b(this,a)}}),i(s.prototype,a,{value:function(a){return b(this,a)}}),i(V.prototype,a,{value:function(a){return b(this,a)}}),i(z.prototype,a,{value:function(a){return d(this,a)}}),e}(),O=function(){function a(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if(typeof a!=typeof b)return-1;switch(typeof a){case H:return a.localeCompare(b);default:var c=a-b;return isNaN(c)?k(a.localeCompare)?a.localeCompare(b):0:c>0?1:0>c?-1:0}}return a}(),g=function(){function Enumerator(e){var d=!1,b=R,f=function(a){return d=!0,b=a};a(e,"factory",c),i(this,"next",{value:function(){return b=R,d=!1,e(f),this.current=b,d}}),this.current=b}return Enumerator}(),f=function(){function Enumerable(a){return i(this,"__enumerator__",{value:c(a)})}function c(a){return a=a||[],e(a,f)?function(){return a.getEnumerator()}:k(a)?a instanceof d?c(a()):a:e(a,o)||e(a,s)||e(a.length,h)?function(){var b=-1,c=a.length;return new g(function(d){return++b<c?d(a[b]):void 0})}:k(a[b])?function(){var c,d=a[b]();return new g(function(a){return(c=d.next()).done?void 0:a(c.value)})}:k(a.getEnumerator)?function(){return a.getEnumerator()}:function(){if(typeof a!==W)return c([a]);var b=[];for(var d in a)b.push(d);return function(){var c=-1,d=b.length;return new g(function(e){return++c<d?e(new Q(b[c],a[b[c]])):void 0})}}()}var b=k(K)&&e(K.iterator,K)?K.iterator:"@@iterator",d=function(){try{return eval("(function*() {}).constructor")}catch(a){return function(){}}}();return i(Enumerable.prototype,b,{value:function(){var a=this.getEnumerator();return{next:function(){return{done:!a.next(),value:a.current}}}}}),m(Enumerable,{getEnumerator:function(){return this.__enumerator__()}},{empty:function(){return new f([])},is:function(a){return null==a?!1:e(a,f)||e(a,o)||e(a,s)||k(a.getEnumerator)||k(a[b])||a instanceof d||e(a.length,h)&&k(a.splice)?!0:!1},range:function(c,b){a(c,"start",h),a(b,"count",h);var d=c+b-1;if(0>b||d>h.MAX_VALUE)throw new l("Argument 'count' was out of the range of valid values");return new f(function(){var a=-1;return new g(function(d){return++a<b?d(c+a):void(a=-1)})})},repeat:function(c,b){if(a(b,"count",h),0>b)throw new l("Argument 'count' was out of the range of valid values");return new f(function(){var a=b;return new g(function(d){return a-->0?d(c):void(a=b)})})}})}(),F=function(){function Comparer(b){a(b,"comparison",c),i(this,"_comparison",{value:b})}return m(Comparer,{compare:function(a,b){return this._comparison(a,b)}},{default:new Comparer(O),create:function(a){return new F(a)}})}(),A=function(){function EqualityComparer(b,d){a(d,"equality",c),a(b,"hashCodeProvider",c),i(this,"_equality",{value:d}),i(this,"_hashCodeProvider",{value:b})}return m(EqualityComparer,{equals:function(a,b){return this._equality(a,b)},hash:function(a){return this._hashCodeProvider(a)}},{default:new EqualityComparer(fa,C),create:function(a,b){return new A(a,b)}})}(),p=function(){function Collection(){}return m(Collection,f,{count:function(){throw new l("Not implemented")},copyTo:function(a,b){B(this,a,b)},getEnumerator:function(){throw new l("Not implemented")}})}(),Y=function(){function ReadOnlyCollection(b){a(b,"list",w),i(this,"length",{get:function(){return b.length}}),i(this,"items",{value:function(){return b}});for(var c=0,d=b.count();d>c;c++)this[c]=b[c];M(this)}return m(ReadOnlyCollection,p,{splice:function(){},get:function(a){return this.items().get(a)},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(a,b){this.items().copyTo(a,b)},indexOf:function(a){return this.items().indexOf(a)},getEnumerator:function(){return b(this.items())}})}(),w=function(){function List(b){var d=arguments,c=0;i(this,"length",{get:function(){return c},set:function(d){a(d,"length",h);var b=c;if(c=y.max(d,0),b>c)do delete this[b];while(b--<c)}}),1===d.length&&null!==b?e(b,h)?c=b:f.is(b)&&!e(b,s)?this.addRange(b):this.add(b):this.addRange(d)}function b(c,b){if(a(b,"index",h),0>b||b>=c.length)throw new l("Index was out of range. Must be non-negative and less than the size of the List.")}return m(List,p,{add:function(a){this[this.length]=a,this.length++},addRange:function(a){j(a,"collection"),this.insertRange(this.length,a)},asReadOnly:function(){return new Y(this)},binarySearch:function(i){for(var a=arguments,f=e(a[1],h)?a[1]:0,j=e(a[1],h)?a[2]:this.length,k=Z(4===a.length?a[3]:a[2]),b=f,d=f+j-1;d>=b;){var c=b+(d-b>>1),g=k.compare(this[c],i);if(0===g)return c;0>g?b=c+1:d=c-1}return~b},clear:function(){this.length=0},count:function(){return this.length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){B(this.items(),a,b)},exists:function(b){b=d(b),a(b,"match",c);for(var e=0,f=this.length;f>e;e++)if(b(this[e])===!0)return!0;return!1},find:function(b){b=d(b),a(b,"match",c);for(var e=0,f=this.length;f>e;e++)if(b(this[e])===!0)return this[e];return null},findAll:function(b){b=d(b),a(b,"match",c);for(var f=new o(this.length),g=0,e=0,h=this.length;h>e;e++)b(this[e])===!0&&(f[g++]=this[e]);return new w(f.slice(0,g))},findIndex:function(){var f=arguments,i=this.length,g=e(f[0],h)?f[0]:0,k=e(f[1],h)?f[1]:i-g,j=d(f[f.length-1]);for(a(j,"match",c),b(this,g);k-->0&&i>g;){if(j(this[g])===!0)return g;g++}return-1},findLast:function(b){b=d(b),a(b,"match",c);for(var e=this.length;e-->0;)if(b(this[e])===!0)return this[e];return null},findLastIndex:function(){var f=arguments,g=e(f[0],h)?f[0]:this.length-1,j=e(f[1],h)?f[1]:g,i=d(f[f.length-1]);for(a(i,"match",c),b(this,g);j-->0&&g>0;){if(i(this[g])===!0)return g;g--}return-1},forEach:function(b){b=d(b),a(b,"action",c);for(var e=0,f=this.length;f>e;e++)b(this[e])},get:function(a){return b(this,a),this[a]},getRange:function(a,c){return b(this,a+c-1),new w(this.slice(a,a+c))},indexOf:[].indexOf,insert:function(a,d){a!==this.length&&b(this,a);for(var c=++this.length;c-->a;)this[c]=this[c-1];this[a]=d},insertRange:function(c,f){a(c,"index",h),j(f,"collection"),c!==this.length&&b(this,c);var g=r(f),d=g.length,e=this.length+d;for(this.length=e;e-->c;)this[e]=this[e-d];for(;d-->0;)this[c+d]=g[d]},items:function(){return this.slice()},lastIndexOf:[].lastIndexOf,remove:function(b){var a=this.indexOf(b);return-1!==a?(this.removeAt(a),!0):!1},removeAll:function(g){g=d(g),a(g,"match",c);for(var b=0,e=this.length;e>b&&!g(this[b]);)b++;if(b>=e)return 0;for(var f=b+1;e>f;){for(;e>f&&g(this[f]);)f++;e>f&&(this[b++]=this[f++])}return this.length=b,e-b},removeAt:function(c){b(this,c);for(var a=c,d=--this.length;d>a;a++)this[a]=this[a+1];delete this[d]},removeRange:function(a,c){b(this,a+c-1);for(var d=this.length-c;d>a;a++)this[a]=this[a+c];this.length=d},reverse:function(a,c){a=a||0,c=c||this.length,b(this,a+c-1);for(var e=this.slice(a,a+c).reverse(),d=e.length;d-->0;)this[d+a]=e[d]},slice:[].slice,splice:[].splice,set:function(a,c){b(this,a),this[a]=c},sort:function(){var c,i,f=arguments,j=f[0],l=d(j),m=Z(3===f.length?f[3]:j),g=0;for(f.length>0?k(l)?c=this.items().sort(l):(e(j,h)?(g=j,a(f[1],"count",h),b(this,g+f[1]-1),c=this.slice(g,g+f[1])):c=this.items(),c=c.sort(function(a,b){return m.compare(a,b)})):c=this.items().sort(),i=c.length;i-->0;)this[i+g]=c[i]},toArray:function(){return this.items()},trueForAll:function(b){b=d(b),a(b,"match",c);for(var e=0,f=this.length;f>e;e++)if(b(this[e])===!1)return!1;return!0},getEnumerator:function(){var a=-1,b=this.length,c=this;return new g(function(d){return++a<b?d(c[a]):void 0})}})}(),Q=function(){function KeyValuePair(a,b){this.key=a,this.value=b,M(this)}return KeyValuePair}(),_=function(){function Dictionary(){var a=arguments,c=e(a,Dictionary)?a[0]:null,d=c?a[1]:J(a[0]),g=c?new v(c.count(),d):e(a[0],h)?new v(a[0],d):new v(d);if(i(this,"table",{value:function(){return g}}),c)for(var f=b(c);f.next();)g.add(f.current.key,f.current.value)}return m(Dictionary,p,{add:function(a,b){if(j(a,"key"),!this.table().add(a,b))throw new l("An item with the same key has already been added.")},clear:function(){this.table().clear()},count:function(){return this.table().count()},containsKey:function(a){return j(a,"key"),this.table().contains(a)},containsValue:function(c){for(var a=b(this.table());a.next();)if(C(a.current.value,c))return!0;return!1},copyTo:function(a,b){B(this.keys(),a,b)},keys:function(){return this.table().keys()},values:function(){return this.table().values()},get:function(a){j(a,"key");var b=this.table().get(a);if(null==b)throw new l("The given key was not present in the collection.");return b.value},set:function(a,b){j(a,"key"),this.table().set(a,b)},tryGetValue:function(b,d){j(b,"key"),a(d,"callback",c);var e=this.table().get(b);return null!=e?(d(e.value),!0):!1},remove:function(a){return j(a,"key"),this.table().remove(a)},getEnumerator:function(){var a=b(this.table());return new g(function(b){for(;a.next();)return b(new Q(a.current.key,a.current.value))})}})}(),v=function(){function HashTable(){var a=arguments,b=e(a[0],h)?d(a[0]/c):0,g=J(2===a.length?a[1]:a[0]);f(this,b,g)}function i(a,b,c,d){this.key=a,this.value=b,this.hash=c,this.next=d}function d(d){for(var b=0;b<a.length;b++){var c=a[b];if(c>d)return c}return a[a.length-1]}function f(b,d,e){d=d||a[0],e=e||b._comparer||A.default,b._count=0,b._loadSize=d*c,b._buckets=new o(d),b._comparer=e,b._keys=null,b._values=null}function j(d,e){for(var a,b,f,i=d._buckets,g=new o(e),j=i.length,h=0;j>h;h++)for(a=i[h];null!=a;)b=a,a=a.next,f=b.hash%e,b.next=g[f],g[f]=b;d._loadSize=c*e,d._buckets=g}var a=[17,67,257,1031,4099,16411,65537,262147,1048583,4194319,16777259],c=.72;return m(HashTable,p,{get:function(b){for(var c=this._buckets,d=this._comparer,e=d.hash(b),a=c[e%c.length];null!=a;){if(a.hash===e&&d.equals(a.key,b))return a;a=a.next}return null},set:function(a,b){this.add(a,b,!0)},add:function(b,g,l){this._count>this._loadSize&&j(this,d(this._buckets.length));var c=this._buckets,h=this._comparer,e=h.hash(b),k=e%c.length,f=c[k];if(null!=f){var a=f;do{if(a.hash===e&&h.equals(a.key,b))return l&&(a.value=g),!1;a=a.next}while(null!=a)}return c[k]=new i(b,g,e,f),this._count++,!0},remove:function(d){for(var b=this._buckets,e=this._comparer,h=b.length,f=e.hash(d),g=f%h,a=b[g],c=a;null!=a;){if(a.hash===f&&e.equals(a.key,d))return c===a?b[g]=a.next:c.next=a.next,this._count--,!0;c=a,a=a.next}return!1},clear:function(){f(this)},count:function(){return this._count},contains:function(a){return null!=this.get(a)},comparer:function(){return this._comparer},keys:function(){for(var a=new o(this._count),c=b(this),d=0;c.next();)a[d++]=c.current.key;return a},values:function(){for(var a=new o(this._count),c=b(this),d=0;c.next();)a[d++]=c.current.value;return a},getEnumerator:function(){var a,c=this._buckets,d=this._count,e=c.length,b=0;return new g(function(f){for(;e>=b&&d>0;){if(null!=a)return f(a),a=a.next,void d--;a=c[b],b++}})}})}(),t=function(){function HashSet(){var a=arguments,c=f.is(a[0])?u(a[0]):null,d=x(a[0]),h=J(1===a.length&&null==c?a[0]:a[1]),e=new v(d?d.count():0,h);if(i(this,"table",{value:function(){return e}}),c)for(var g=r(a[0]),b=0,j=g.length;j>b;b++)e.add(g[b],null)}function n(a,b){this.uniqueCount=a,this.unfoundCount=b}function h(a,b){return e(a,t)&&e(b,t)&&a.comparer()===b.comparer()}function l(c,d){for(var a=b(d),e=c.table();a.next();)if(!e.contains(a.current))return!1;return!0}function o(c,d){for(var a=b(c),e=d.table();a.next();)if(!e.contains(a.current))return!1;return!0}function k(c,f,g){var a=b(f);if(0===c.count()&&a.next())return new n(0,1);for(var d=0,e=0,h=c.table(),i=new v(c.comparer());a.next();)if(h.contains(a.current))i.add(a.current,null)&&e++;else if(d++,g)break;return new n(e,d)}return m(HashSet,p,{add:function(a){return this.table().add(a,null)},clear:function(){this.table().clear()},count:function(){return this.table().count()},contains:function(a){return this.table().contains(a)},copyTo:function(a,b,c){B(this.table().keys(),a,b,c)},comparer:function(){return this.table().comparer()},remove:function(a){return this.table().remove(a)},removeWhere:function(b){b=d(b),a(b,"match",c);for(var e,f=this.count(),h=this.table(),i=r(this),g=0;f-->0;)e=i[f],b(e)&&h.remove(e)&&g++;return g},exceptWith:function(a){if(j(a,"other"),0!==this.count()){if(a===this)return void this.clear();for(var c=b(a),d=this.table();c.next();)d.remove(c.current)}},intersectWith:function(b){if(j(b,"other"),0!==this.count()){var a=x(b);if(null!=a){if(0===a.count())return void this.clear();if(h(this,a)){for(var c,d=this.count(),e=this.table(),f=a.table(),g=r(this);d-->0;)f.contains(c=g[d])||e.remove(c);return}}this.intersectWith(new t(b,this.comparer()))}},isProperSubsetOf:function(b){j(b,"other");var a=x(b);if(null==a){var c=k(this,b,!1);return c.uniqueCount===this.count()&&c.unfoundCount>0}return 0===this.count()?a.count()>0:h(this,a)?this.count()>=a.count()?!1:o(this,a):void 0},isProperSupersetOf:function(b){if(j(b,"other"),0===this.count())return!1;var a=x(b);if(null==a){var c=k(this,b,!0);return c.uniqueCount<this.count()&&0===c.unfoundCount}return 0===a.count()?!0:h(this,a)?a.count()>=this.count()?!1:l(this,a):void 0},isSubsetOf:function(a){if(j(a,"other"),0===this.count())return!0;if(h(this,a))return this.count()>a.count()?!1:o(this,a);var b=k(this,a,!1);return b.uniqueCount===this.count()&&b.unfoundCount>=0},isSupersetOf:function(b){j(b,"other");var a=x(b);if(null!=a){if(0===a.count())return!0;if(h(this,a)&&a.count()>this.count())return!1}return l(this,b)},overlaps:function(a){if(j(a,"other"),0===this.count())return!1;for(var c=b(a),d=this.table();c.next();)if(d.contains(c.current))return!0;return!1},setEquals:function(a){if(j(a,"other"),h(this,a))return this.count()!==a.count()?!1:l(this,a);var b=x(a);if(null!=b&&0===this.count()&&b.count()>0)return!1;var c=k(this,a,!0);return c.uniqueCount===this.count()&&0===c.unfoundCount},symmetricExceptWith:function(a){if(j(a,"other"),0===this.count())return void this.unionWith(a);if(a===this)return void this.clear();if(h(this,a))for(var c=b(a),d=this.table();c.next();)d.remove(c.current)||d.add(c.current,null);else this.symmetricExceptWith(new t(a,this.comparer()))},unionWith:function(a){j(a,"other");for(var c=b(a),d=this.table();c.next();)d.add(c.current,null)},getEnumerator:function(){var a=b(this.table());return new g(function(b){for(;a.next();)return b(a.current.key)})}})}(),n=function(){function LinkedListNode(a){this._value=a,this._list=null,this._next=null,this._prev=null}return m(LinkedListNode,{value:function(){return this._value},list:function(){return this._list},next:function(){return null==this._next||this._next===this._list.head()?null:this._next},previous:function(){return null==this._prev||this===this._list.head()?null:this._prev}})}(),da=function(){function LinkedList(b){var c,d=0;if(i(this,"head",{value:function(){var a=arguments[0];return(e(a,n)||null===a)&&(c=a),c}}),i(this,"count",{value:function(){var a=arguments[0];return e(a,h)&&(d=y.max(a,0)),d}}),b)for(var f=r(b),a=0,g=f.length;g>a;a++)this.addLast(f[a])}function c(a){a._list=null,a._next=null,a._prev=null}function b(d,c,b){if(a(c,"node",n),a(b,"newNode",n),c._list!==d||null!=b._list)throw new l("Invalid node list.");b._list=d,b._next=c,b._prev=c._prev,c._prev._next=b,c._prev=b,d.count(d.count()+1)}function d(c,b){if(a(b,"newNode",n),null!=b._list)throw new l("Invalid node list.");b._list=c,b._next=b,b._prev=b,c.head(b),c.count(c.count()+1)}return m(LinkedList,p,{add:function(a){this.addLast(a)},clear:function(){for(var a=this.head();null!=a;){var b=a;a=a.next(),c(b)}this.head(null),this.count(0)},count:function(){return this.count()},contains:function(a){return null!=this.find(a)},copyTo:function(a,b){B(this,a,b)},getFirst:function(){return this.head()},getLast:function(){return null==this.head()?null:this.head()._prev},addAfter:function(d,f){a(d,"node",n);var c;return e(f,n)?(c=f,b(this,d._next,c)):(c=new n(f),this.addAfter(d,c)),c},addBefore:function(d,f){a(d,"node",n);var c;return e(f,n)?(c=f,b(this,d,c),d===this.head()&&this.head(c)):(c=new n(f),this.addBefore(d,c)),c},addFirst:function(c){var a;return e(c,n)?(a=c,null==this.head()?d(this,a):(b(this,this.head(),a),this.head(a))):(a=new n(c),this.addFirst(a)),a},addLast:function(c){var a;return e(c,n)?(a=c,null==this.head()?d(this,a):b(this,this.head(),a)):(a=new n(c),this.addLast(a)),a},find:function(b){var a=this.head();if(null!=a)if(null!=b)do{if(C(a._value,b))return a;a=a._next}while(a!==this.head());else do{if(null==a._value)return a;a=a._next}while(a!==this.head());return null},findLast:function(c){if(null==this.head())return null;var b=this.head()._prev,a=b;if(null!=a)if(null!=c)do{if(C(a._value,c))return a;a=a._prev}while(a!==b);else do{if(null==a._value)return a;a=a._prev}while(a!==b);return null},remove:function(b){var a;return e(b,n)?(a=b,a._next===a?this.head(null):(a._next._prev=a._prev,a._prev._next=a._next,this.head()===a&&this.head(a._next)),c(a),this.count(this.count()-1),void 0):null!=(a=this.find(b))?(this.remove(a),!0):!1},removeFirst:function(){if(null==this.head())throw new l("Linked list is empty.");this.remove(this.head())},removeLast:function(){if(null==this.head())throw new l("Linked list is empty.");this.remove(this.head()._prev)},getEnumerator:function(){var b=this.head(),a=b;return new g(function(c){if(null!=a){var d=a._value;return a=a._next,a===b&&(a=null),c(d)}})}})}(),ea=function(){function Queue(a){var b=[];i(this,"items",{value:function(){return b}}),null!=a&&(b=r(a))}return m(Queue,p,{clear:function(){this.items().length=0},count:function(){return this.items().length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){B(this.items(),a,b)},dequeue:function(){return this.items().shift()},enqueue:function(a){this.items().push(a)},peek:function(){return this.items()[0]},toArray:function(){return this.items().slice()},getEnumerator:function(){return b(this.items())}})}(),S=function(){function Stack(a){var b=[];i(this,"items",{value:function(){return b}}),null!=a&&(b=r(a))}return m(Stack,p,{clear:function(){this.items().length=0},count:function(){return this.items().length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){B(this.items(),a,b)},peek:function(){return this.items()[this.count()-1]},pop:function(){return this.items().pop()},push:function(a){this.items().push(a)},toArray:function(){return this.items().slice()},getEnumerator:function(){return b(this.items())}})}(),I=function(){function Lookup(b){a(b,"table",v),i(this,"table",{value:function(){return b}})}return m(Lookup,p,{contains:function(a){return this.table().contains(a)},count:function(){return this.table().count()},get:function(a){var b=this.table().get(a);return new U(null==b?[]:b.value,a)},getEnumerator:function(){var a=b(this.table());return new g(function(b){for(;a.next();)return b(new U(a.current.value,a.current.key))})}},{create:function(k,f,e,p){f=d(f),a(f,"keySelector",c);var i=b(k),j=x(k),g=new v(j?j.count():0,p),o=new Lookup(g);for(e&&(e=d(e),a(e,"elementSelector",c));i.next();){var h=i.current,l=f(h),m=g.get(l),n=e?e(h):h;null==m?g.add(l,[n]):m.value.push(n)}return o}})}(),U=function(){function Grouping(a,b){this.key=b,this.elements=a,M(this)}return m(Grouping,p,{count:function(){return this.elements.length},getEnumerator:function(){return b(this.elements)}})}(),X=function(){function OrderedEnumerable(g,e,h,i,f){var j=Z(h);e=d(e),a(e,"keySelector",c),D(this,{source:function(){return g},sorter:function(c){var a=new b(e,j,i,c);return null!=f&&(a=f.sorter(a)),a}})}function b(a,b,c,d){this.keySelector=a,this.comparer=b,this.descending=c,this.next=d}return m(b,{computeKeys:function(c,b){for(var d=new o(b),e=this.keySelector,a=0;b>a;a++)d[a]=e(c[a]);null!=this.next&&this.next.computeKeys(c,b),this.keys=d},compareKeys:function(a,b){var c=this.comparer.compare(this.keys[a],this.keys[b]);return 0===c?null==this.next?a-b:this.next.compareKeys(a,b):this.descending?-c:c},sort:function(d,a){this.computeKeys(d,a);for(var c=new o(a),b=0;a>b;b++)c[b]=b;return this.quickSort(c,0,a-1),c},quickSort:function(c,d,e){do{var a=d,b=e,f=c[a+(b-a>>1)];do{for(;a<c.length&&this.compareKeys(f,c[a])>0;)a++;for(;b>=0&&this.compareKeys(f,c[b])<0;)b--;if(a>b)break;if(b>a){var g=c[a];c[a]=c[b],c[b]=g}a++,b--}while(b>=a);e-a>=b-d?(b>d&&this.quickSort(c,d,b),d=a):(e>a&&this.quickSort(c,a,e),e=b)}while(e>d)}}),m(OrderedEnumerable,f,{createOrderedEnumerable:function(a,b,c){return new OrderedEnumerable(this.source(),a,b,c,this)},thenBy:function(a,b){return this.createOrderedEnumerable(a,b,!1)},thenByDescending:function(a,b){return this.createOrderedEnumerable(a,b,!0)},getEnumerator:function(){var a,b,d=this.source(),e=this,c=0;return new g(function(f){return null==a&&(a=r(d),b=e.sorter(null).sort(a,a.length)),c<a.length?f(a[b[c++]]):void 0})}})}(),ia=function(){function i(a){return e(a,o)||e(a,s)||e(a,w)?!0:a&&null!=a.length&&k(a.splice)}function p(){return new l("Sequence contains more than one element.")}function q(){return new l("Sequence contains more than one match.")}function m(){return new l("Sequence contains no matching element.")}function n(){return new l("Sequence contains no elements.")}function y(a){return new l("Specified argument was out of the range of valid values. Parameter name: "+a)}function z(){return new l("Value is not a number.")}var A={aggregate:function(h,l,e){var f,i=arguments,g=b(this),j=d(1===i.length?h:l),k=1===i.length?R:h;if(a(j,"func",c),e&&(e=d(e),a(e,"resultSelector",c)),k===R){if(!g.next())throw m();f=g.current}else f=k;for(;g.next();)f=j(f,g.current);return e?e(f):f},all:function(e){e=d(e),a(e,"predicate",c);for(var f=b(this);f.next();)if(e(f.current)===!1)return!1;return!0},any:function(e){var f=b(this);if(e){for(e=d(e),a(e,"predicate",c);f.next();)if(e(f.current)===!0)return!0}else if(f.next())return!0;return!1},asEnumerable:function(){return u(this)},average:function(e){if(e)return e=d(e),a(e,"selector",c),u(this).select(e).average();for(var f=b(this),h=0,g=0;f.next();){if(isNaN(f.current))throw z();h+=f.current,g++}if(0===g)throw n();return h/g},concat:function(a){j(a,"second");var c=this;return new f(function(){var d=b(c),e=b(a);return new g(function(a){for(;d.next();)return a(d.current);for(;e.next();)return a(e.current);e=d=null})})},contains:function(c,d){for(var e=J(d),a=b(this);a.next();)if(C(a.current,c,e))return!0;return!1},count:function(e){if(e)return e=d(e),a(e,"predicate",c),u(this).where(e).count();if(i(this))return this.length;for(var g=b(this),f=0;g.next();)f++;return f},defaultIfEmpty:function(a){var c=this;return new f(function(){var d=b(c);return new g(function(b){if(!d.next())return d=null,b(null==a?null:a);do return b(d.current);while(d.next())})})},distinct:function(c){var a=this;return new f(function(){var d=b(a),e=x(a),f=new v(e?e.count():0,c);return new g(function(a){for(;d.next();)if(f.add(d.current))return a(d.current)})})},except:function(a,c){var d=this;return new f(function(){var e=b(d),f=new t(a,c);return new g(function(a){for(;e.next();)if(!f.contains(e.current))return a(e.current)})})},elementAt:function(c){if(a(c,"index",h),0>c)throw y("index");if(i(this)){if(c<this.length)return this[c]}else for(var d=b(this),e=0;d.next();)if(c===e++)return d.current;throw y("index")},first:function(e){var f=b(this);if(e){for(e=d(e),a(e,"predicate",c);f.next();)if(e(f.current))return f.current;throw m()}if(i(this)){if(this.length>0)return this[0]}else if(f.next())return f.current;throw m()},firstOrDefault:function(e,g){var f=b(this);if(e){for(e=d(e),a(e,"predicate",c);f.next();)if(e(f.current))return f.current}else if(i(this)){if(this.length>0)return this[0]}else if(f.next())return f.current;return g||null},forEach:function(e){e=d(e),a(e,"action",c);for(var f=b(this),g=0;f.next();)e(f.current,g++)},groupBy:function(h){h=d(h),a(h,"keySelector",c);var e=arguments,j=d(e[2]),i=d(e[3]),k=2!==e.length||j?3!==e.length||i?e[3]:e[2]:e[1],l=this;return new f(function(){var a=b(I.create(l,h,j,k));return new g(function(b){if(i)for(;a.next();)return b(i(a.current.key,a.current.value));else for(;a.next();)return b(a.current)})})},groupJoin:function(k,e,h,i,l){e=d(e),h=d(h),i=d(i),j(k,"inner"),a(e,"outerKeySelector",c),a(h,"innerKeySelector",c),a(i,"resultSelector",c);var m=this;return new f(function(){var a=b(m),c=I.create(k,h,null,l);return new g(function(b){for(;a.next();)return b(i(a.current,c.get(e(a.current))))})})},intersect:function(a,c){var d=this;return new f(function(){var e=b(d),f=new t(a,c);return new g(function(a){for(;e.next();)if(f.contains(e.current))return a(e.current)})})},join:function(k,e,h,i,l){e=d(e),h=d(h),i=d(i),j(k,"inner"),a(e,"outerKeySelector",c),a(h,"innerKeySelector",c),a(i,"resultSelector",c);var m=this;return new f(function(){var d,a,c=b(m),f=0;return new g(function(b){if(null!=d||(d=I.create(k,h,null,l),c.next()))do{if(a=a||d.get(e(c.current)),f<a.count())return b(i(c.current,a.elements[f++]));f=0,a=null}while(c.next())})})},last:function(f){var g,e=b(this);if(f){f=d(f),a(f,"predicate",c);for(var h=!1;e.next();)f(e.current)&&(g=e.current,h=!0);if(h)return g;throw m()}if(i(this)){if(this.length>0)return this[this.length-1]}else if(e.next()){do g=e.current;while(e.next());return g}throw m()},lastOrDefault:function(f,h){var e=b(this),g=h||null;if(f)for(f=d(f),a(f,"predicate",c);e.next();)f(e.current)&&(g=e.current);else if(i(this)){if(this.length>0)return this[this.length-1]}else if(e.next())do g=e.current;while(e.next());return g},max:function(e){if(e)return e=d(e),a(e,"selector",c),u(this).select(e).max();var f=b(this),g=null;if(!f.next())throw new n;do null!=f.current&&(null==g||O(f.current,g)>0)&&(g=f.current);while(f.next());return g},min:function(e){if(e)return e=d(e),a(e,"selector",c),u(this).select(e).min();var f=b(this),g=null;if(!f.next())throw new n;do null!=f.current&&(null==g||O(f.current,g)<0)&&(g=f.current);while(f.next());return g},ofType:function(d){a(d,"type",c);var h=this;return new f(function(){var a=b(h);return new g(function(b){for(;a.next();)if(e(a.current,d))return b(a.current)})})},orderBy:function(a,b){return new X(this,a,b,!1)},orderByDescending:function(a,b){return new X(this,a,b,!0)},reverse:function(){var a=r(this);return new f(a.reverse())},sequenceEqual:function(d,e){var b=r(this),c=r(d),f=J(e),a=b.length;if(a===c.length){for(;a--;){var g=b[a],h=c[a];if(C(g,h,f))return!1}return!0}return!1},select:function(e){e=d(e),a(e,"selector",c);var h=this;return new f(function(){var a=b(h),c=0;return new g(function(b){for(;a.next();)return b(e(a.current,c++))})})},selectMany:function(h,e){h=d(h),a(h,"collectionSelector",c),e&&(e=d(e),a(e,"resultSelector",c));var i=this;return new f(function(){var a,c=b(i),d=0;return new g(function(f){for(;null!=a||c.next();){for(a=a||b(h(c.current,d++));a.next();)return f(e?e(c.current,a.current):a.current);

a=null}})})},single:function(f){var g,e=b(this),h=-1;if(f){for(f=d(f),a(f,"predicate",c),h=0;e.next()&&!(h>1);)f(e.current)&&(g=e.current,h++);switch(h){case 0:throw m();case 1:return g}throw q()}if(i(this))switch(this.length){case 0:throw m();case 1:return this[0]}if(!e.next())throw m();if(g=e.current,!e.next())return g;throw new p},singleOrDefault:function(g,j){var e=b(this),f=j||null;if(g){g=d(g),a(g,"predicate",c);for(var h=0;e.next();)if(g(e.current)){if(h>1)break;f=e.current,h++}if(2>h)return f;throw q()}if(i(this))switch(this.length){case 0:return f;case 1:return this[0]}if(!e.next())return f;if(f=e.current,!e.next())return f;throw new p},skip:function(c){a(c,"count",h);var d=this;return new f(function(){var a=b(d),e=0;return new g(function(b){for(;a.next();)if(e++>=c)return b(a.current)})})},skipWhile:function(e){e=d(e),a(e,"predicate",c);var h=this;return new f(function(){var a=b(h),c=!1,d=-1;return new g(function(b){for(;a.next();)if(d++,c||e(a.current,d)||(c=!0),c)return b(a.current)})})},sum:function(e){if(e)return e=d(e),a(e,"selector",c),u(this).select(e).sum();for(var f=b(this),g=0;f.next();){if(isNaN(f.current))throw z();g+=f.current}return g},take:function(c){a(c,"count",h);var d=this;return new f(function(){var a=b(d),e=0;return new g(function(b){for(;e++<c&&a.next();)return b(a.current)})})},takeWhile:function(e){e=d(e),a(e,"predicate",c);var h=this;return new f(function(){var a=b(h),c=-1;return new g(function(b){for(;a.next()&&(c++,e(a.current,c));)return b(a.current)})})},toArray:function(){return r(this)},toDictionary:function(f){f=d(f),a(f,"keySelector",c);var g=arguments,h=d(g[1]),j=2!==g.length||h?g[2]:g[1],i=new _(j),e=b(this);if(h)for(;e.next();)i.add(f(e.current),h(e.current));else for(;e.next();)i.add(f(e.current),e.current);return i},toList:function(){return new w(this)},toLookup:function(b){b=d(b),a(b,"keySelector",c);var e=arguments,f=d(e[1]),g=2!==e.length||f?e[2]:e[1];return I.create(this,b,f,g)},union:function(a,c){var d=this;return new f(function(){var e=b(d),f=b(a),h=new t(c);return new g(function(a){for(;e.next();)if(h.add(e.current))return a(e.current);for(;f.next();)if(h.add(f.current))return a(f.current)})})},where:function(e){e=d(e),a(e,"predicate",c);var h=this;return new f(function(){var a=b(h),c=0;return new g(function(b){for(;a.next();)if(e(a.current,c++))return b(a.current)})})},zip:function(h,e){e=d(e),a(e,"resultSelector",c);var i=this;return new f(function(){var c=b(i),a=b(h);return new g(function(b){for(;c.next()&&a.next();)return b(e(c.current,a.current));a=null})})}};return A}();P(o),P(s),P(f);var mx=T(multiplex,{runtime:T({hash:E,equals:aa,compare:O,lambda:d,define:i,mixin:D}),extensions:T(ia),hash:fa,equals:C,extend:P,Enumerator:g,Enumerable:f,Collection:p,ReadOnlyCollection:Y,List:w,Dictionary:_,KeyValuePair:Q,HashSet:t,LinkedList:da,LinkedListNode:n,Queue:ea,Stack:S,Lookup:I,Grouping:U,OrderedEnumerable:X,Comparer:F,EqualityComparer:A});D(q,{mx:mx,multiplex:mx,Enumerable:f,Enumerator:g,ReadOnlyCollection:Y,List:w,Dictionary:_,KeyValuePair:Q,HashSet:t,LinkedList:da,LinkedListNode:n,Queue:ea,Stack:S,Comparer:F,EqualityComparer:A})}(window||this);
//# sourceMappingURL=multiplex.map