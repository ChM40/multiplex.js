/*--------------------------------------------------------------------------

* Multiplex.js - Comprehensive data-structure and LINQ library for JavaScript.
* Ver 0.9.1 (April 08, 2015)

* Created and maintained by Kamyar Nazeri <Kamyar.Nazeri@yahoo.com>
* Licensed under Apache License Version 2.0
* https://github.com/multiplex/multiplex.js

*--------------------------------------------------------------------------*/

!function(r){"use strict";function d(b,a){switch(typeof b){case N:return a===f;case I:return a===s;case R:return a===c;case W:return a===Z;case ka:return a===J;default:return b instanceof a}}function k(a){return typeof a===R}function ia(a,b){return k(a.hasOwnProperty)?a.hasOwnProperty(b):b in a}function ha(a,c){var b="toString";if(k(a)&&!ia(a,b)&&c!==b){var d="function "+c.toString()+(a.toString().match(/\(.*?\)/)||[""])[0]+" {...}";ca(a,b,{value:function(){return d}})}}function j(a,b,c){return ca(a,b,c),ha(a[b],b),a}function B(b,d,a){a=a||{};for(var c in d)ia(b,c)||j(b,c,{value:d[c],writable:a.writable||!1,enumerable:a.enumerable||!1,configurable:a.configurable||!1});return b}function U(b,c){var a=c?b:{},d=c||b;return k(a)&&(a=m(a)),O(B(a,d,{enumerable:!0}))}function m(a,d){var b=arguments,c=k(d)?d:null,e=4===b.length||c?b[2]:d,f=4===b.length||c?b[3]:b[2],h=a.name||a.toString().match(/function (.+)\(.*?\)/)[1];if(ha(a,h),c){var g=function(){j(this,"constructor",{value:a})};g.prototype=c.prototype,a.prototype=new g}return e&&B(a.prototype,e),f&&B(a,f),a}function g(a,b){if(null==a)throw new l("Value cannot be null. Parameter name: "+b)}function a(b,c,a){if(g(a,"type"),!d(b,a))throw new l("Invalid parameter type. Expected type: "+a.toString().match(/^function (.+)\(/)[1]+". Parameter name: "+c)}function e(a){switch(typeof a){case R:return a;case I:var b=/^\s*\(?\s*(([a-z_$]{1}[a-z0-9_$]*)+([, ]+[a-z_$]{1}[a-z0-9_$]*)*)*\s*\)?\s*=>\s*(.*)$/i;if(b.test(a)){var d=a.match(b);return new c((d[1]||"").replace(/ /g,""),"return "+d[4])}throw new l("Cannot parse supplied `. "+a);default:return null}}function ga(d){if(1===arguments.length)return F(d,!0);for(var a=arguments,e=a.length,b=F(a[0],!0),c=0;++c<e;)b=31*(527+b)+F(a[c],!0);return b}function C(a,b,c){return d(c,A)?a===b?!0:null==a||null==b?!1:c.hash(a)===c.hash(b)&&c.equals(a,b):$(a,b,!0)}function u(a){return d(a,h)?a:new h(a)}function b(a){return u(a).getEnumerator()}function x(a){return d(a,p)?a:d(a,n)||d(a,s)?new X(a):null}function q(a){if(d(a,n))return a.slice(0);if(d(a,s))return a.split("");var c=new n(4),e=b(a),f=0;if(d(a,p)){for(c.length=a.count();e.next();)c[f++]=e.current;return c}for(;e.next();)f>=c.length&&(c.length*=4),c[f++]=e.current;return c.slice(0,f)}function D(c,h,i,e){if(e=e||c.count(),g(h,"array"),a(i,"arrayIndex",f),a(e,"count",f),i>h.length||e>h.length-i)throw new l("The number of elements in the source is greater than the number of elements that the destination array can contain.");var j=-1;if(d(c,n)||d(c,s)||d(c,w))for(;j++<e;)h[i+j]=c[j];else for(var k=b(c);k.next()&&j++<e;)h[i+j]=k.current}function M(a){return d(a,G)?a:a&&k(a.compare)?G.create(a.compare):G.default}function L(a){return d(a,A)?a:a&&k(a.hash)&&k(a.equals)?A.create(a.hash,a.equals):A.default}function P(b){a(b,"type",c),B(b.prototype,ja)}function multiplex(a){return u(a)}var R="function",T="object",N="number",I="string",W="boolean",ka="symbol",c=r.Function,y=r.Object,f=r.Number,s=r.String,Z=r.Boolean,n=r.Array,l=r.Error,z=r.Math,H=r.Date,da=r.WeakMap,J=r.Symbol,Q,ca=k(y.defineProperty)?y.defineProperty:function(b,c,a){b[c]=a.get?a.get.apply(b):a.value},O=k(y.freeze)?y.freeze:function(a){return a},F=function(o){function g(a,b){if(null==a)return 0;switch(typeof a){case N:return i(a);case I:return d(a);case W:return a?1:0;default:return a instanceof H?m(a):b&&k(a.__hash__)?a.__hash__(a):n(a)}}function c(a,b){return 31*(527+a)+b}function d(d){for(var a=e,f=d.length,c=0;f>c;c++)a=((a<<5)-a|0)+d.charCodeAt(c)|0;return a&b}function i(c){var a=0;if(c%1===0)a=c>>32;else switch(c){case f.POSITIVE_INFINITY:a=2139095040;break;case f.NEGATIVE_INFINITY:a=4286578688;break;case 0:a=1073741824;break;case-0:a=3221225472;break;default:-0>=c&&(a=2147483648,c=-c);var d=z.floor(z.log(c)/z.log(2)),e=c/z.pow(2,d)*8388608|0;d+=127,d>=255?(d=255,e=0):0>d&&(d=0),a|=d<<23,a|=8388607&e}return a&b}function m(b){var a=b.getTime();return a^a>>5}var b=2147483647,e=z.floor(32767*z.random())+32767,l=e,a="__hash__",n=function(){if(o&&k(da)){var f=new da;return function(i){var a=f.get(i);if(null==a){if(h(i)){a=e,f.set(i,0);for(var j in i)a=c(a,c(d(j),g(i[j],!0)));a&=b}else a=l++>>32;f.set(i,a)}return a}}return function(i){var f=0;if(typeof i.__hash__!==R||typeof(f=i.__hash__())!==N)if(i.__hash__=function(){return f},h(i)){f=e;for(var j in i)j!==a&&(f=c(f,c(d(j),g(i[j],!0))));f&=b}else f=l++>>32;return f}}(),h=function(){var a=y.prototype,b=y.getPrototypeOf;return k(b)?function(c){return b(c)===a}:function(b){return b.constructor.prototype===a}}();return j(H.prototype,a,{value:function(){return m(this)}}),j(f.prototype,a,{value:function(){return i(this.valueOf())}}),j(s.prototype,a,{value:function(){return d(this.valueOf())}}),j(Z.prototype,a,{value:function(){return this.valueOf()===!0?1:0}}),j(y.prototype,a,{value:function(){return n(this)}}),g}(!0),$=function(){function e(a,b,e){if(a===b)return!0;if(null==a||null==b)return!1;switch(typeof a){case N:case I:case W:return a==b;case T:return a instanceof H?c(a,b):e&&k(a.__equals__)?a.__equals__(b):d(a,b);default:return!1}}function c(b,a){return a instanceof H&&b.getTime()===a.getTime()}function b(a,b){return a.valueOf()==b}function d(a,b){if(typeof b===T){if(F(a)!==F(b))return!1;for(var c in a)if(!$(a[c],b[c]))return!1;return!0}return a==b}var a="__equals__";return j(H.prototype,a,{value:function(a){return c(this,a)}}),j(f.prototype,a,{value:function(a){return b(this,a)}}),j(s.prototype,a,{value:function(a){return b(this,a)}}),j(Z.prototype,a,{value:function(a){return b(this,a)}}),j(y.prototype,a,{value:function(a){return d(this,a)}}),e}(),E=function(){function a(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if(typeof a!=typeof b)return-1;switch(typeof a){case I:return a.localeCompare(b);default:var c=a-b;return isNaN(c)?k(a.localeCompare)?a.localeCompare(b):0:c>0?1:0>c?-1:0}}return a}(),i=function(){function Enumerator(e){var d=!1,b=Q,f=function(a){return d=!0,b=a};a(e,"factory",c),j(this,"next",{value:function(){return b=Q,d=!1,e(f),this.current=b,d}}),this.current=b}return Enumerator}(),h=function(){function Enumerable(a){return j(this,"__enumerator__",{value:c(a)})}function c(a){return a=a||[],d(a,h)?function(){return a.getEnumerator()}:k(a)?a instanceof e?c(a()):a:d(a,n)||d(a,s)||d(a.length,f)?function(){var b=-1,c=a.length;return new i(function(d){return++b<c?d(a[b]):void 0})}:k(a[b])?function(){var c,d=a[b]();return new i(function(a){return(c=d.next()).done?void 0:a(c.value)})}:k(a.getEnumerator)?function(){return a.getEnumerator()}:function(){if(typeof a!==T)return c([a]);var b=[];for(var d in a)b.push(d);return function(){var c=-1,d=b.length;return new i(function(e){return++c<d?e(new S(b[c],a[b[c]])):void 0})}}()}var b=k(J)&&d(J.iterator,J)?J.iterator:"@@iterator",e=function(){try{return eval("(function*() {}).constructor")}catch(a){return function(){}}}();return j(Enumerable.prototype,b,{value:function(){var a=this.getEnumerator();return{next:function(){return{done:!a.next(),value:a.current}}}}}),m(Enumerable,{getEnumerator:function(){return this.__enumerator__()}},{empty:function(){return new h([])},is:function(a){return null==a?!1:d(a,h)||d(a,n)||d(a,s)||k(a.getEnumerator)||k(a[b])||a instanceof e||d(a.length,f)&&k(a.splice)?!0:!1},range:function(c,b){a(c,"start",f),a(b,"count",f);var d=c+b-1;if(0>b||d>f.MAX_VALUE)throw new l("Argument 'count' was out of the range of valid values");return new h(function(){var a=-1;return new i(function(d){return++a<b?d(c+a):void(a=-1)})})},repeat:function(c,b){if(a(b,"count",f),0>b)throw new l("Argument 'count' was out of the range of valid values");return new h(function(){var a=b;return new i(function(d){return a-->0?d(c):void(a=b)})})}})}(),G=function(){function Comparer(b){a(b,"comparison",c),j(this,"_comparison",{value:b})}return m(Comparer,{compare:function(a,b){return this._comparison(a,b)}},{default:new Comparer(E),create:function(a){return new G(a)}})}(),A=function(){function EqualityComparer(b,d){a(d,"equality",c),a(b,"hashCodeProvider",c),j(this,"_equality",{value:d}),j(this,"_hashCodeProvider",{value:b})}return m(EqualityComparer,{equals:function(a,b){return this._equality(a,b)},hash:function(a){return this._hashCodeProvider(a)}},{default:new EqualityComparer(ga,C),create:function(a,b){return new A(a,b)}})}(),p=function(){function Collection(){}return m(Collection,h,{count:function(){throw new l("Not implemented")},copyTo:function(a,b){D(this,a,b)},getEnumerator:function(){throw new l("Not implemented")}})}(),Y=function(){function ReadOnlyCollection(b){a(b,"list",w),j(this,"length",{get:function(){return b.length}}),j(this,"items",{value:function(){return b}});for(var c=0,d=b.count();d>c;c++)this[c]=b[c];O(this)}return m(ReadOnlyCollection,p,{splice:function(){},get:function(a){return this.items().get(a)},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(a,b){this.items().copyTo(a,b)},indexOf:function(a){return this.items().indexOf(a)},getEnumerator:function(){return b(this.items())}})}(),w=function(){function List(b){var e=arguments,c=0;j(this,"length",{get:function(){return c},set:function(d){a(d,"length",f);var b=c;if(c=z.max(d,0),b>c)do delete this[b];while(b--<c)}}),1===e.length&&null!==b?d(b,f)?c=b:h.is(b)&&!d(b,s)?this.addRange(b):this.add(b):this.addRange(e)}function b(c,b){if(a(b,"index",f),0>b||b>=c.length)throw new l("Index was out of range. Must be non-negative and less than the size of the List.")}return m(List,p,{add:function(a){this[this.length]=a,this.length++},addRange:function(a){g(a,"collection"),this.insertRange(this.length,a)},asReadOnly:function(){return new Y(this)},binarySearch:function(i){for(var a=arguments,g=d(a[1],f)?a[1]:0,j=d(a[1],f)?a[2]:this.length,k=M(4===a.length?a[3]:a[2]),b=g,e=g+j-1;e>=b;){var c=b+(e-b>>1),h=k.compare(this[c],i);if(0===h)return c;0>h?b=c+1:e=c-1}return~b},clear:function(){this.length=0},count:function(){return this.length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){D(this.items(),a,b)},exists:function(b){b=e(b),a(b,"match",c);for(var d=0,f=this.length;f>d;d++)if(b(this[d])===!0)return!0;return!1},find:function(b){b=e(b),a(b,"match",c);for(var d=0,f=this.length;f>d;d++)if(b(this[d])===!0)return this[d];return null},findAll:function(b){b=e(b),a(b,"match",c);for(var f=new n(this.length),g=0,d=0,h=this.length;h>d;d++)b(this[d])===!0&&(f[g++]=this[d]);return new w(f.slice(0,g))},findIndex:function(){var g=arguments,i=this.length,h=d(g[0],f)?g[0]:0,k=d(g[1],f)?g[1]:i-h,j=e(g[g.length-1]);for(a(j,"match",c),b(this,h);k-->0&&i>h;){if(j(this[h])===!0)return h;h++}return-1},findLast:function(b){b=e(b),a(b,"match",c);for(var d=this.length;d-->0;)if(b(this[d])===!0)return this[d];return null},findLastIndex:function(){var g=arguments,h=d(g[0],f)?g[0]:this.length-1,j=d(g[1],f)?g[1]:h,i=e(g[g.length-1]);for(a(i,"match",c),b(this,h);j-->0&&h>0;){if(i(this[h])===!0)return h;h--}return-1},forEach:function(b){b=e(b),a(b,"action",c);for(var d=0,f=this.length;f>d;d++)b(this[d])},get:function(a){return b(this,a),this[a]},getRange:function(a,c){return b(this,a+c-1),new w(this.slice(a,a+c))},indexOf:[].indexOf,insert:function(a,d){a!==this.length&&b(this,a);for(var c=++this.length;c-->a;)this[c]=this[c-1];this[a]=d},insertRange:function(c,h){a(c,"index",f),g(h,"collection"),c!==this.length&&b(this,c);var i=q(h),d=i.length,e=this.length+d;for(this.length=e;e-->c;)this[e]=this[e-d];for(;d-->0;)this[c+d]=i[d]},items:function(){return this.slice()},lastIndexOf:[].lastIndexOf,remove:function(b){var a=this.indexOf(b);return-1!==a?(this.removeAt(a),!0):!1},removeAll:function(g){g=e(g),a(g,"match",c);for(var b=0,d=this.length;d>b&&!g(this[b]);)b++;if(b>=d)return 0;for(var f=b+1;d>f;){for(;d>f&&g(this[f]);)f++;d>f&&(this[b++]=this[f++])}return this.length=b,d-b},removeAt:function(c){b(this,c);for(var a=c,d=--this.length;d>a;a++)this[a]=this[a+1];delete this[d]},removeRange:function(a,c){b(this,a+c-1);for(var d=this.length-c;d>a;a++)this[a]=this[a+c];this.length=d},reverse:function(a,c){a=a||0,c=c||this.length,b(this,a+c-1);for(var e=this.slice(a,a+c).reverse(),d=e.length;d-->0;)this[d+a]=e[d]},slice:[].slice,splice:[].splice,set:function(a,c){b(this,a),this[a]=c},sort:function(){var c,i,g=arguments,j=g[0],l=e(j),m=M(3===g.length?g[3]:j),h=0;for(g.length>0?k(l)?c=this.items().sort(l):(d(j,f)?(h=j,a(g[1],"count",f),b(this,h+g[1]-1),c=this.slice(h,h+g[1])):c=this.items(),c=c.sort(function(a,b){return m.compare(a,b)})):c=this.items().sort(),i=c.length;i-->0;)this[i+h]=c[i]},toArray:function(){return this.items()},trueForAll:function(b){b=e(b),a(b,"match",c);for(var d=0,f=this.length;f>d;d++)if(b(this[d])===!1)return!1;return!0},getEnumerator:function(){var a=-1,b=this.length,c=this;return new i(function(d){return++a<b?d(c[a]):void 0})}})}(),ba=function(){function SortedList(b,a){a=M(a)}return m(SortedList,p,{add:function(a,b){g(a,"key"),g(b,"value")},get:function(a){g(a,"key")},capacity:function(b){a(b,"value",f)},clear:function(){},comparer:function(){},containsKey:function(a){g(a,"key")},containsValue:function(){},count:function(){},keys:function(){},values:function(){},indexOfKey:function(a){g(a,"key")},indexOfValue:function(a){g(a,"value")},remove:function(a){g(a,"key")},removeAt:function(b){a(b,"index",f)},set:function(a,b){g(a,"key"),g(b,"value")},trimExcess:function(){},tryGetValue:function(b,d){g(b,"key"),a(d,"callback",c)},getEnumerator:function(){return b(this.items())}})}(),S=function(){function KeyValuePair(a,b){this.key=a,this.value=b,O(this)}return KeyValuePair}(),aa=function(){function Dictionary(){var a=arguments,c=d(a,Dictionary)?a[0]:null,e=c?a[1]:L(a[0]),h=c?new v(c.count(),e):d(a[0],f)?new v(a[0],e):new v(e);if(j(this,"table",{value:function(){return h}}),c)for(var g=b(c);g.next();)h.add(g.current.key,g.current.value)}return m(Dictionary,p,{add:function(a,b){if(g(a,"key"),!this.table().add(a,b))throw new l("An item with the same key has already been added.")},clear:function(){this.table().clear()},count:function(){return this.table().count()},containsKey:function(a){return g(a,"key"),this.table().contains(a)},containsValue:function(c){for(var a=b(this.table());a.next();)if(C(a.current.value,c))return!0;return!1},copyTo:function(a,b){D(this.keys(),a,b)},keys:function(){return this.table().keys()},values:function(){return this.table().values()},get:function(a){g(a,"key");var b=this.table().get(a);if(null==b)throw new l("The given key was not present in the collection.");return b.value},set:function(a,b){g(a,"key"),this.table().set(a,b)},tryGetValue:function(b,d){g(b,"key"),a(d,"callback",c);var e=this.table().get(b);return null!=e?(d(e.value),!0):!1},remove:function(a){return g(a,"key"),this.table().remove(a)},getEnumerator:function(){var a=b(this.table());return new i(function(b){for(;a.next();)return b(new S(a.current.key,a.current.value))})}})}(),v=function(){function HashTable(){var a=arguments,b=d(a[0],f)?e(a[0]/c):0,h=L(2===a.length?a[1]:a[0]);g(this,b,h)}function h(a,b,c,d){this.key=a,this.value=b,this.hash=c,this.next=d}function e(d){for(var b=0;b<a.length;b++){var c=a[b];if(c>d)return c}return a[a.length-1]}function g(b,d,e){d=d||a[0],e=e||b._comparer||A.default,b._count=0,b._loadSize=d*c,b._buckets=new n(d),b._comparer=e,b._keys=null,b._values=null}function j(d,e){for(var a,b,f,i=d._buckets,g=new n(e),j=i.length,h=0;j>h;h++)for(a=i[h];null!=a;)b=a,a=a.next,f=b.hash%e,b.next=g[f],g[f]=b;d._loadSize=c*e,d._buckets=g}var a=[17,67,257,1031,4099,16411,65537,262147,1048583,4194319,16777259],c=.72;return m(HashTable,p,{get:function(b){for(var c=this._buckets,d=this._comparer,e=d.hash(b),a=c[e%c.length];null!=a;){if(a.hash===e&&d.equals(a.key,b))return a;a=a.next}return null},set:function(a,b){this.add(a,b,!0)},add:function(b,g,l){this._count>this._loadSize&&j(this,e(this._buckets.length));var c=this._buckets,i=this._comparer,d=i.hash(b),k=d%c.length,f=c[k];if(null!=f){var a=f;do{if(a.hash===d&&i.equals(a.key,b))return l&&(a.value=g),!1;a=a.next}while(null!=a)}return c[k]=new h(b,g,d,f),this._count++,!0},remove:function(d){for(var b=this._buckets,e=this._comparer,h=b.length,f=e.hash(d),g=f%h,a=b[g],c=a;null!=a;){if(a.hash===f&&e.equals(a.key,d))return c===a?b[g]=a.next:c.next=a.next,this._count--,!0;c=a,a=a.next}return!1},clear:function(){g(this)},count:function(){return this._count},contains:function(a){return null!=this.get(a)},comparer:function(){return this._comparer},keys:function(){for(var a=new n(this._count),c=b(this),d=0;c.next();)a[d++]=c.current.key;return a},values:function(){for(var a=new n(this._count),c=b(this),d=0;c.next();)a[d++]=c.current.value;return a},getEnumerator:function(){var a,c=this._buckets,d=this._count,e=c.length,b=0;return new i(function(f){for(;e>=b&&d>0;){if(null!=a)return f(a),a=a.next,void d--;a=c[b],b++}})}})}(),t=function(){function HashSet(){var a=arguments,c=h.is(a[0])?u(a[0]):null,d=x(a[0]),g=L(1===a.length&&null==c?a[0]:a[1]),e=new v(d?d.count():0,g);if(j(this,"table",{value:function(){return e}}),c)for(var f=q(a[0]),b=0,i=f.length;i>b;b++)e.add(f[b],null)}function n(a,b){this.uniqueCount=a,this.unfoundCount=b}function f(a,b){return d(a,t)&&d(b,t)&&a.comparer()===b.comparer()}function l(c,d){for(var a=b(d),e=c.table();a.next();)if(!e.contains(a.current))return!1;return!0}function o(c,d){for(var a=b(c),e=d.table();a.next();)if(!e.contains(a.current))return!1;return!0}function k(c,f,g){var a=b(f);if(0===c.count()&&a.next())return new n(0,1);for(var d=0,e=0,h=c.table(),i=new v(c.comparer());a.next();)if(h.contains(a.current))i.add(a.current,null)&&e++;else if(d++,g)break;return new n(e,d)}return m(HashSet,p,{add:function(a){return this.table().add(a,null)},clear:function(){this.table().clear()},count:function(){return this.table().count()},contains:function(a){return this.table().contains(a)},copyTo:function(a,b,c){D(this.table().keys(),a,b,c)},comparer:function(){return this.table().comparer()},remove:function(a){return this.table().remove(a)},removeWhere:function(b){b=e(b),a(b,"match",c);for(var d,f=this.count(),h=this.table(),i=q(this),g=0;f-->0;)d=i[f],b(d)&&h.remove(d)&&g++;return g},exceptWith:function(a){if(g(a,"other"),0!==this.count()){if(a===this)return void this.clear();for(var c=b(a),d=this.table();c.next();)d.remove(c.current)}},intersectWith:function(b){if(g(b,"other"),0!==this.count()){var a=x(b);if(null!=a){if(0===a.count())return void this.clear();if(f(this,a)){for(var c,d=this.count(),e=this.table(),h=a.table(),i=q(this);d-->0;)h.contains(c=i[d])||e.remove(c);return}}this.intersectWith(new t(b,this.comparer()))}},isProperSubsetOf:function(b){g(b,"other");var a=x(b);if(null==a){var c=k(this,b,!1);return c.uniqueCount===this.count()&&c.unfoundCount>0}return 0===this.count()?a.count()>0:f(this,a)?this.count()>=a.count()?!1:o(this,a):void 0},isProperSupersetOf:function(b){if(g(b,"other"),0===this.count())return!1;var a=x(b);if(null==a){var c=k(this,b,!0);return c.uniqueCount<this.count()&&0===c.unfoundCount}return 0===a.count()?!0:f(this,a)?a.count()>=this.count()?!1:l(this,a):void 0},isSubsetOf:function(a){if(g(a,"other"),0===this.count())return!0;if(f(this,a))return this.count()>a.count()?!1:o(this,a);var b=k(this,a,!1);return b.uniqueCount===this.count()&&b.unfoundCount>=0},isSupersetOf:function(b){g(b,"other");var a=x(b);if(null!=a){if(0===a.count())return!0;if(f(this,a)&&a.count()>this.count())return!1}return l(this,b)},overlaps:function(a){if(g(a,"other"),0===this.count())return!1;for(var c=b(a),d=this.table();c.next();)if(d.contains(c.current))return!0;return!1},setEquals:function(a){if(g(a,"other"),f(this,a))return this.count()!==a.count()?!1:l(this,a);var b=x(a);if(null!=b&&0===this.count()&&b.count()>0)return!1;var c=k(this,a,!0);return c.uniqueCount===this.count()&&0===c.unfoundCount},symmetricExceptWith:function(a){if(g(a,"other"),0===this.count())return void this.unionWith(a);if(a===this)return void this.clear();if(f(this,a))for(var c=b(a),d=this.table();c.next();)d.remove(c.current)||d.add(c.current,null);else this.symmetricExceptWith(new t(a,this.comparer()))},unionWith:function(a){g(a,"other");for(var c=b(a),d=this.table();c.next();)d.add(c.current,null)},getEnumerator:function(){var a=b(this.table());return new i(function(b){for(;a.next();)return b(a.current.key)})}})}(),o=function(){function LinkedListNode(a){this._value=a,this._list=null,this._next=null,this._prev=null}return m(LinkedListNode,{value:function(){return this._value},list:function(){return this._list},next:function(){return null==this._next||this._next===this._list.head()?null:this._next},previous:function(){return null==this._prev||this===this._list.head()?null:this._prev}})}(),ea=function(){function LinkedList(b){var c,e=0;if(j(this,"head",{value:function(){var a=arguments[0];return(d(a,o)||null===a)&&(c=a),c}}),j(this,"count",{value:function(){var a=arguments[0];return d(a,f)&&(e=z.max(a,0)),e}}),b)for(var g=q(b),a=0,h=g.length;h>a;a++)this.addLast(g[a])}function c(a){a._list=null,a._next=null,a._prev=null}function b(d,c,b){if(a(c,"node",o),a(b,"newNode",o),c._list!==d||null!=b._list)throw new l("Invalid node list.");b._list=d,b._next=c,b._prev=c._prev,c._prev._next=b,c._prev=b,d.count(d.count()+1)}function e(c,b){if(a(b,"newNode",o),null!=b._list)throw new l("Invalid node list.");b._list=c,b._next=b,b._prev=b,c.head(b),c.count(c.count()+1)}return m(LinkedList,p,{add:function(a){this.addLast(a)},clear:function(){for(var a=this.head();null!=a;){var b=a;a=a.next(),c(b)}this.head(null),this.count(0)},count:function(){return this.count()},contains:function(a){return null!=this.find(a)},copyTo:function(a,b){D(this,a,b)},getFirst:function(){return this.head()},getLast:function(){return null==this.head()?null:this.head()._prev},addAfter:function(e,f){a(e,"node",o);var c;return d(f,o)?(c=f,b(this,e._next,c)):(c=new o(f),this.addAfter(e,c)),c},addBefore:function(e,f){a(e,"node",o);var c;return d(f,o)?(c=f,b(this,e,c),e===this.head()&&this.head(c)):(c=new o(f),this.addBefore(e,c)),c},addFirst:function(c){var a;return d(c,o)?(a=c,null==this.head()?e(this,a):(b(this,this.head(),a),this.head(a))):(a=new o(c),this.addFirst(a)),a},addLast:function(c){var a;return d(c,o)?(a=c,null==this.head()?e(this,a):b(this,this.head(),a)):(a=new o(c),this.addLast(a)),a},find:function(b){var a=this.head();if(null!=a)if(null!=b)do{if(C(a._value,b))return a;a=a._next}while(a!==this.head());else do{if(null==a._value)return a;a=a._next}while(a!==this.head());return null},findLast:function(c){if(null==this.head())return null;var b=this.head()._prev,a=b;if(null!=a)if(null!=c)do{if(C(a._value,c))return a;a=a._prev}while(a!==b);else do{if(null==a._value)return a;a=a._prev}while(a!==b);return null},remove:function(b){var a;return d(b,o)?(a=b,a._next===a?this.head(null):(a._next._prev=a._prev,a._prev._next=a._next,this.head()===a&&this.head(a._next)),c(a),this.count(this.count()-1),void 0):null!=(a=this.find(b))?(this.remove(a),!0):!1},removeFirst:function(){if(null==this.head())throw new l("Linked list is empty.");this.remove(this.head())},removeLast:function(){if(null==this.head())throw new l("Linked list is empty.");this.remove(this.head()._prev)},getEnumerator:function(){var b=this.head(),a=b;return new i(function(c){if(null!=a){var d=a._value;return a=a._next,a===b&&(a=null),c(d)}})}})}(),fa=function(){function Queue(a){var b=[];j(this,"items",{value:function(){return b}}),null!=a&&(b=q(a))}return m(Queue,p,{clear:function(){this.items().length=0},count:function(){return this.items().length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){D(this.items(),a,b)},dequeue:function(){return this.items().shift()},enqueue:function(a){this.items().push(a)},peek:function(){return this.items()[0]},toArray:function(){return this.items().slice()},getEnumerator:function(){return b(this.items())}})}(),X=function(){function Stack(a){var b=[];j(this,"items",{value:function(){return b}}),null!=a&&(b=q(a))}return m(Stack,p,{clear:function(){this.items().length=0},count:function(){return this.items().length},contains:function(a){return-1!==this.items().indexOf(a)},copyTo:function(a,b){D(this.items(),a,b)},peek:function(){return this.items()[this.count()-1]},pop:function(){return this.items().pop()},push:function(a){this.items().push(a)},toArray:function(){return this.items().slice()},getEnumerator:function(){return b(this.items())}})}(),K=function(){function Lookup(b){a(b,"table",v),j(this,"table",{value:function(){return b}})}return m(Lookup,p,{contains:function(a){return this.table().contains(a)},count:function(){return this.table().count()},get:function(a){var b=this.table().get(a);return new V(null==b?[]:b.value,a)},getEnumerator:function(){var a=b(this.table());return new i(function(b){for(;a.next();)return b(new V(a.current.value,a.current.key))})}},{create:function(k,f,d,p){f=e(f),a(f,"keySelector",c);var i=b(k),j=x(k),g=new v(j?j.count():0,p),o=new Lookup(g);for(d&&(d=e(d),a(d,"elementSelector",c));i.next();){var h=i.current,l=f(h),m=g.get(l),n=d?d(h):h;null==m?g.add(l,[n]):m.value.push(n)}return o}})}(),V=function(){function Grouping(a,b){this.key=b,this.elements=a,O(this)}return m(Grouping,p,{count:function(){return this.elements.length},getEnumerator:function(){return b(this.elements)}})}(),_=function(){function OrderedEnumerable(g,d,h,i,f){var j=M(h);d=e(d),a(d,"keySelector",c),B(this,{source:function(){return g},sorter:function(c){var a=new b(d,j,i,c);return null!=f&&(a=f.sorter(a)),a}})}function b(a,b,c,d){this.keySelector=a,this.comparer=b,this.descending=c,this.next=d}return m(b,{computeKeys:function(c,b){for(var d=new n(b),e=this.keySelector,a=0;b>a;a++)d[a]=e(c[a]);null!=this.next&&this.next.computeKeys(c,b),this.keys=d},compareKeys:function(a,b){var c=this.comparer.compare(this.keys[a],this.keys[b]);return 0===c?null==this.next?a-b:this.next.compareKeys(a,b):this.descending?-c:c},sort:function(d,a){this.computeKeys(d,a);for(var c=new n(a),b=0;a>b;b++)c[b]=b;return this.quickSort(c,0,a-1),c},quickSort:function(c,d,e){do{var a=d,b=e,f=c[a+(b-a>>1)];do{for(;a<c.length&&this.compareKeys(f,c[a])>0;)a++;for(;b>=0&&this.compareKeys(f,c[b])<0;)b--;if(a>b)break;if(b>a){var g=c[a];c[a]=c[b],c[b]=g}a++,b--}while(b>=a);e-a>=b-d?(b>d&&this.quickSort(c,d,b),d=a):(e>a&&this.quickSort(c,a,e),e=b)}while(e>d)}}),m(OrderedEnumerable,h,{createOrderedEnumerable:function(a,b,c){return new OrderedEnumerable(this.source(),a,b,c,this)},thenBy:function(a,b){return this.createOrderedEnumerable(a,b,!1)},thenByDescending:function(a,b){return this.createOrderedEnumerable(a,b,!0)},getEnumerator:function(){var a,b,d=this.source(),e=this,c=0;return new i(function(f){return null==a&&(a=q(d),b=e.sorter(null).sort(a,a.length)),c<a.length?f(a[b[c++]]):void 0})}})}(),ja=function(){function j(a){return d(a,n)||d(a,s)||d(a,w)?!0:a&&null!=a.length&&k(a.splice)}function p(){return new l("Sequence contains more than one element.")}function r(){return new l("Sequence contains more than one match.")}function m(){return new l("Sequence contains no matching element.")}function o(){return new l("Sequence contains no elements.")}function y(a){return new l("Specified argument was out of the range of valid values. Parameter name: "+a)}function z(){return new l("Value is not a number.")}var A={aggregate:function(h,l,d){var f,i=arguments,g=b(this),j=e(1===i.length?h:l),k=1===i.length?Q:h;if(a(j,"func",c),d&&(d=e(d),a(d,"resultSelector",c)),k===Q){if(!g.next())throw m();f=g.current}else f=k;for(;g.next();)f=j(f,g.current);return d?d(f):f},all:function(d){d=e(d),a(d,"predicate",c);for(var f=b(this);f.next();)if(d(f.current)===!1)return!1;return!0},any:function(d){var f=b(this);if(d){for(d=e(d),a(d,"predicate",c);f.next();)if(d(f.current)===!0)return!0}else if(f.next())return!0;return!1},asEnumerable:function(){return u(this)},average:function(f){if(f)return f=e(f),a(f,"selector",c),u(this).select(f).average();if(d(this,n)&&k(this.reduce)){if(0==this.length)throw new o;return this.sum()/this.length}for(var g=b(this),i=0,h=0;g.next();){if(isNaN(g.current))throw z();i+=g.current,h++}if(0===h)throw o();return i/h},concat:function(a){g(a,"second");var c=this;return new h(function(){var d=b(c),e=b(a);return new i(function(a){for(;d.next();)return a(d.current);for(;e.next();)return a(e.current);e=d=null})})},contains:function(c,d){for(var e=L(d),a=b(this);a.next();)if(C(a.current,c,e))return!0;return!1},count:function(d){if(d)return d=e(d),a(d,"predicate",c),u(this).where(d).count();if(j(this))return this.length;for(var g=b(this),f=0;g.next();)f++;return f},defaultIfEmpty:function(a){var c=this;return new h(function(){var d=b(c);return new i(function(b){if(!d.next())return d=null,b(null==a?null:a);do return b(d.current);while(d.next())})})},distinct:function(c){var a=this;return new h(function(){var d=b(a),e=x(a),f=new v(e?e.count():0,c);return new i(function(a){for(;d.next();)if(f.add(d.current))return a(d.current)})})},except:function(a,c){var d=this;return new h(function(){var e=b(d),f=new t(a,c);return new i(function(a){for(;e.next();)if(!f.contains(e.current))return a(e.current)})})},elementAt:function(c){if(a(c,"index",f),0>c)throw y("index");if(j(this)){if(c<this.length)return this[c]}else for(var d=b(this),e=0;d.next();)if(c===e++)return d.current;throw y("index")},first:function(d){var f=b(this);if(d){for(d=e(d),a(d,"predicate",c);f.next();)if(d(f.current))return f.current;throw m()}if(j(this)){if(this.length>0)return this[0]}else if(f.next())return f.current;throw m()},firstOrDefault:function(d,g){var f=b(this);if(d){for(d=e(d),a(d,"predicate",c);f.next();)if(d(f.current))return f.current}else if(j(this)){if(this.length>0)return this[0]}else if(f.next())return f.current;return g||null},forEach:function(d){d=e(d),a(d,"action",c);for(var f=b(this),g=0;f.next();)d(f.current,g++)},groupBy:function(f){f=e(f),a(f,"keySelector",c);var d=arguments,j=e(d[2]),g=e(d[3]),k=2!==d.length||j?3!==d.length||g?d[3]:d[2]:d[1],l=this;return new h(function(){var a=b(K.create(l,f,j,k));return new i(function(b){if(g)for(;a.next();)return b(g(a.current.key,a.current.value));else for(;a.next();)return b(a.current)})})},groupJoin:function(k,d,f,j,l){d=e(d),f=e(f),j=e(j),g(k,"inner"),a(d,"outerKeySelector",c),a(f,"innerKeySelector",c),a(j,"resultSelector",c);var m=this;return new h(function(){var a=b(m),c=K.create(k,f,null,l);return new i(function(b){for(;a.next();)return b(j(a.current,c.get(d(a.current))))})})},intersect:function(a,c){var d=this;return new h(function(){var e=b(d),f=new t(a,c);return new i(function(a){for(;e.next();)if(f.contains(e.current))return a(e.current)})})},join:function(k,d,f,j,l){d=e(d),f=e(f),j=e(j),g(k,"inner"),a(d,"outerKeySelector",c),a(f,"innerKeySelector",c),a(j,"resultSelector",c);var m=this;return new h(function(){var e,a,c=b(m),g=0;return new i(function(b){if(null!=e||(e=K.create(k,f,null,l),c.next()))do{if(a=a||e.get(d(c.current)),g<a.count())return b(j(c.current,a.elements[g++]));g=0,a=null}while(c.next())})})},last:function(f){var g,d=b(this);if(f){f=e(f),a(f,"predicate",c);for(var h=!1;d.next();)f(d.current)&&(g=d.current,h=!0);if(h)return g;throw m()}if(j(this)){if(this.length>0)return this[this.length-1]}else if(d.next()){do g=d.current;while(d.next());return g}throw m()},lastOrDefault:function(f,h){var d=b(this),g=h||null;if(f)for(f=e(f),a(f,"predicate",c);d.next();)f(d.current)&&(g=d.current);else if(j(this)){if(this.length>0)return this[this.length-1]}else if(d.next())do g=d.current;while(d.next());return g},max:function(f){if(f)return f=e(f),a(f,"selector",c),u(this).select(f).max();if(d(this,n)&&k(this.reduce)){if(0==this.length)throw new o;return this.reduce(function(a,b){return E(a,b)>0?a:b},this[0])}var g=b(this),h=null;if(!g.next())throw new o;do null!=g.current&&(null==h||E(g.current,h)>0)&&(h=g.current);while(g.next());return h},min:function(f){if(f)return f=e(f),a(f,"selector",c),u(this).select(f).min();if(d(this,n)&&k(this.reduce)){if(0==this.length)throw new o;return this.reduce(function(a,b){return E(a,b)<0?a:b},this[0])}var g=b(this),h=null;

if(!g.next())throw new o;do null!=g.current&&(null==h||E(g.current,h)<0)&&(h=g.current);while(g.next());return h},ofType:function(e){a(e,"type",c);var f=this;return new h(function(){var a=b(f);return new i(function(b){for(;a.next();)if(d(a.current,e))return b(a.current)})})},orderBy:function(a,b){return new _(this,a,b,!1)},orderByDescending:function(a,b){return new _(this,a,b,!0)},reverse:function(){var a=q(this);return new h(a.reverse())},sequenceEqual:function(d,e){var b=q(this),c=q(d),f=L(e),a=b.length;if(a===c.length){for(;a--;){var g=b[a],h=c[a];if(C(g,h,f))return!1}return!0}return!1},select:function(d){d=e(d),a(d,"selector",c);var f=this;return new h(function(){var a=b(f),c=0;return new i(function(b){for(;a.next();)return b(d(a.current,c++))})})},selectMany:function(f,d){f=e(f),a(f,"collectionSelector",c),d&&(d=e(d),a(d,"resultSelector",c));var g=this;return new h(function(){var a,c=b(g),e=0;return new i(function(g){for(;null!=a||c.next();){for(a=a||b(f(c.current,e++));a.next();)return g(d?d(c.current,a.current):a.current);a=null}})})},single:function(f){var g,d=b(this),h=-1;if(f){for(f=e(f),a(f,"predicate",c),h=0;d.next()&&!(h>1);)f(d.current)&&(g=d.current,h++);switch(h){case 0:throw m();case 1:return g}throw r()}if(j(this))switch(this.length){case 0:throw m();case 1:return this[0]}if(!d.next())throw m();if(g=d.current,!d.next())return g;throw new p},singleOrDefault:function(g,i){var d=b(this),f=i||null;if(g){g=e(g),a(g,"predicate",c);for(var h=0;d.next();)if(g(d.current)){if(h>1)break;f=d.current,h++}if(2>h)return f;throw r()}if(j(this))switch(this.length){case 0:return f;case 1:return this[0]}if(!d.next())return f;if(f=d.current,!d.next())return f;throw new p},skip:function(c){a(c,"count",f);var d=this;return new h(function(){var a=b(d),e=0;return new i(function(b){for(;a.next();)if(e++>=c)return b(a.current)})})},skipWhile:function(d){d=e(d),a(d,"predicate",c);var f=this;return new h(function(){var a=b(f),c=!1,e=-1;return new i(function(b){for(;a.next();)if(e++,c||d(a.current,e)||(c=!0),c)return b(a.current)})})},sum:function(f){if(f)return f=e(f),a(f,"selector",c),u(this).select(f).sum();if(d(this,n)&&k(this.reduce))return this.reduce(function(a,b){return a+b},0);for(var g=b(this),h=0;g.next();){if(isNaN(g.current))throw z();h+=g.current}return h},take:function(c){a(c,"count",f);var d=this;return new h(function(){var a=b(d),e=0;return new i(function(b){for(;e++<c&&a.next();)return b(a.current)})})},takeWhile:function(d){d=e(d),a(d,"predicate",c);var f=this;return new h(function(){var a=b(f),c=-1;return new i(function(b){for(;a.next()&&(c++,d(a.current,c));)return b(a.current)})})},toArray:function(){return q(this)},toDictionary:function(f){f=e(f),a(f,"keySelector",c);var g=arguments,h=e(g[1]),j=2!==g.length||h?g[2]:g[1],i=new aa(j),d=b(this);if(h)for(;d.next();)i.add(f(d.current),h(d.current));else for(;d.next();)i.add(f(d.current),d.current);return i},toList:function(){return new w(this)},toLookup:function(b){b=e(b),a(b,"keySelector",c);var d=arguments,f=e(d[1]),g=2!==d.length||f?d[2]:d[1];return K.create(this,b,f,g)},union:function(a,c){var d=this;return new h(function(){var e=b(d),f=b(a),g=new t(c);return new i(function(a){for(;e.next();)if(g.add(e.current))return a(e.current);for(;f.next();)if(g.add(f.current))return a(f.current)})})},where:function(d){d=e(d),a(d,"predicate",c);var f=this;return new h(function(){var a=b(f),c=0;return new i(function(b){for(;a.next();)if(d(a.current,c++))return b(a.current)})})},zip:function(f,d){d=e(d),a(d,"resultSelector",c);var g=this;return new h(function(){var c=b(g),a=b(f);return new i(function(b){for(;c.next()&&a.next();)return b(d(c.current,a.current));a=null})})}};return A}();P(n),P(s),P(h);var mx=U(multiplex,{runtime:U({hash:F,equals:$,compare:E,lambda:e,define:j,mixin:B}),extensions:U(ja),hash:ga,equals:C,extend:P,Enumerator:i,Enumerable:h,Collection:p,ReadOnlyCollection:Y,List:w,SortedList:ba,Dictionary:aa,KeyValuePair:S,HashSet:t,LinkedList:ea,LinkedListNode:o,Queue:fa,Stack:X,Lookup:K,Grouping:V,OrderedEnumerable:_,Comparer:G,EqualityComparer:A});B(r,{mx:mx,multiplex:mx,Enumerable:h,Enumerator:i,ReadOnlyCollection:Y,List:w,SortedList:ba,Dictionary:aa,KeyValuePair:S,HashSet:t,LinkedList:ea,LinkedListNode:o,Queue:fa,Stack:X,Comparer:G,EqualityComparer:A})}(window||this);
//# sourceMappingURL=multiplex.map