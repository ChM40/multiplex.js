/*--------------------------------------------------------------------------

* Multiplex.js - Comprehensive data-structure and LINQ library for JavaScript.
* Ver 1.1.0 (March 01, 2016)

* Created and maintained by Kamyar Nazeri <Kamyar.Nazeri@yahoo.com>
* Licensed under Apache License Version 2.0
* https://github.com/multiplex/multiplex.js

*--------------------------------------------------------------------------*/

!function(s){"use strict";function g(a,b){return"number"==typeof a?b===j:"string"==typeof a?b===I:"function"==typeof a?b===e:"boolean"==typeof a?b===U:a instanceof b}function n(a){return"function"==typeof a}function R(a){return a instanceof q||"string"==typeof a?!0:"object"==typeof a&&"number"==typeof a.length&&("function"==typeof a.splice||"[object Arguments]"===a.toString()||a.buffer||a instanceof ra)?!0:!1}function ka(a,b){return n(a.hasOwnProperty)?a.hasOwnProperty(b):b in a}function h(a){throw new sa(a)}function o(c,a,b){if(ba(c,a,b),g(a,I)&&n(b.value)){var d="function "+a+"() {...}";ba(b.value,"toString",{value:function(){return d},writable:!0})}return c}function u(b,d,a){if(b){a=a||{};for(var c in d)ka(b,c)||o(b,c,{value:d[c],writable:a.writable||!1,enumerable:a.enumerable||!1,configurable:a.configurable||!1})}return b}function m(a,d){var b=arguments,c=n(d)?d:null,e=4===b.length||c?b[2]:d,f=4===b.length||c?b[3]:b[2];if(c){var g=function(){o(this,"constructor",{value:a})};g.prototype=c.prototype,a.prototype=new g}return e&&u(a.prototype,e),f&&u(a,f),a}function k(a){null==a&&h("Value cannot be null.")}function b(b,a){g(b,a)||h("Invalid parameter type. Expected type: "+a.toString().match(/^function (.+)\(/)[1])}function c(a){if("function"==typeof a)return a;if("string"==typeof a){var b=/^\s*\(?\s*(([a-z_$]{1}[a-z0-9_$]*)+([, ]+[a-z_$]{1}[a-z0-9_$]*)*)*\s*\)?\s*=>\s*(.*)$/i;if(b.test(a)){var c=a.match(b);return new e((c[1]||"").replace(/ /g,""),"return "+c[4])}h("Cannot parse supplied expression: "+a)}return null}function ga(d){if(1===arguments.length)return z(d,!0);for(var a=arguments,e=a.length,b=z(a[0],!0),c=0;++c<e;)b=31*(527+b)+z(a[c],!0);return b}function X(a,b,c){return c?a===b?!0:null==a||null==b?!1:c.hash(a)===c.hash(b)&&c.equals(a,b):w(a,b,!0)}function v(a){return g(a,f)?a:new f(a)}function d(a){return v(a).getEnumerator()}function t(b){if(R(b))return b.length;if(b instanceof p)return b.count();if(b instanceof f){var c=a(b);if(R(c))return c.length}return-1}function l(b){if(b instanceof q)return b;if("string"==typeof b)return b.split("");var e=a(b);if(e){if(e instanceof q)return e;if("string"==typeof e)return e.split("");if("function"==typeof e.slice)return e.slice(0)}var c,f=d(b),g=16,h=0;if(b instanceof p){for(c=new q(b.count());f.next();)c[h++]=f.current;return c}for(c=new q(g);f.next();)h>=g&&(g*=4,c.length=g),c[h++]=f.current;return c.length=h,c}function A(e,a,c){k(a),b(c,j),(c>a.length||e.count()>a.length)&&h(qa);for(var f=l(e),g=f.length,d=-1;++d<g;)a[c+d]=f[d]}function _(f,e,g,h,i){for(var a=e,c=e+g-1,d=0,b=0;c>=a;){if(b=a+(c-a>>1),d=i.compare(f[b],h),0===d)return b;0>d?a=b+1:c=b-1}return~a}function S(a){return g(a,L)?a:a&&n(a.compare)?L.create(a.compare):L.defaultComparer}function M(a){return a instanceof H?a:a&&n(a.hash)&&n(a.equals)?H.create(a.hash,a.equals):H.defaultComparer}function ea(c){var a=c.prototype;b(c,e),u(a,ca),n(a.getEnumerator)||o(a,"getEnumerator",{value:function(){return d(this)}})}function multiplex(a){return g(a,f)?a:new f(a)}var e=s.Function,E=s.Object,j=s.Number,I=s.String,U=s.Boolean,q=s.Array,sa=s.Error,D=s.Math,B=s.Date,Q=s.WeakMap,$=s.Symbol,ra=s.NodeList,W,C="Argument was out of the range of valid values.",da="Method not implemented.",qa="The number of elements in the source is greater than the number of elements that the destination array can contain.",ha="The given key was not present in the collection.",ia="An item with the same key has already been added.",J="Collection is empty.",pa="Sequence contains more than one element.",la="Sequence contains more than one match.",N="Sequence contains no matching element.",K="Sequence contains no elements.",aa="Value is not a number.",ba=n(E.defineProperty)?E.defineProperty:function(b,c,a){b[c]=a.get?a.get.apply(b):a.value},P=n(E.freeze)?E.freeze:function(a){return a},a=function(){if(n(Q)){var a=new Q;return function(c,b){return b?(a.set(c,b),b):a.get(c)}}return function(b,a){return a?(b.__props__=a,a):b.__props__}}(),z=function(){function e(a,c){return"number"==typeof a?a%1===0?a>>32:f(a):"string"==typeof a?b(a):"boolean"==typeof a?a?1:0:null==a?0:a instanceof B?g(a):c&&"function"==typeof a.__hash__?a.__hash__(a):k(a)}function b(e){for(var a=d,f=e.length,b=0;f>b;b++)a=((a<<5)-a|0)+e.charCodeAt(b)|0;return a&c}function f(a){if(a%1===0)return a>>32;var b=0;switch(a){case j.POSITIVE_INFINITY:b=2139095040;break;case j.NEGATIVE_INFINITY:b=4286578688;break;case 0:b=1073741824;break;case-0:b=3221225472;break;default:-0>=a&&(b=2147483648,a=-a);var d=D.floor(D.log(a)/D.log(2)),e=a/D.pow(2,d)*8388608|0;d+=127,d>=255?(d=255,e=0):0>d&&(d=0),b|=d<<23,b|=8388607&e}return b&c}function g(b){var a=b.getTime();return a^a>>5}var c=2147483647,d=D.floor(32767*D.random())+32767,h=d,a="__hash__",k=function(){if(n(Q)){var f=new Q;return function(g){var a=f.get(g);if(null==a){if(i(g)){a=d,f.set(g,0);for(var j in g)a=31*(527+a)+b(j)+e(g[j],!0);a&=c}else a=h++>>32;f.set(g,a)}return a}}return function(g){var f=0;if("function"!=typeof g.__hash__||"number"!=typeof(f=g.__hash__()))if(g.__hash__=function(){return f},i(g)){f=d;for(var j in g)j!==a&&(f=31*(527+f)+b(j)+e(g[j],!0));f&=c}else f=h++>>32;return f}}(),i=function(){var a=E.prototype,b=E.getPrototypeOf;return n(b)?function(c){return b(c)===a}:function(b){return b.constructor.prototype===a}}();return o(B.prototype,a,{value:function(){return g(this)}}),o(j.prototype,a,{value:function(){return f(this.valueOf())}}),o(I.prototype,a,{value:function(){return b(this.valueOf())}}),o(U.prototype,a,{value:function(){return this.valueOf()===!0?1:0}}),e}(),w=function(){function c(a,b,c){return a===b?!0:null==a||null==b?!1:"number"==typeof a||"string"==typeof a||"boolean"==typeof a?a==b:"object"==typeof a?a instanceof B?d(a,b):c&&"function"==typeof a.__equals__?a.__equals__(b):e(a,b):!1}function d(b,a){return a instanceof B&&b.getTime()===a.getTime()}function b(a,b){return a.valueOf()==b}function e(a,b){if("object"==typeof b){if(z(a,!0)!==z(b,!0))return!1;var d;for(var e in a)if(d=a[e],"function"!=typeof d&&!c(d,b[e],!0))return!1;return!0}return a==b}var a="__equals__";return o(B.prototype,a,{value:function(a){return d(this,a)}}),o(j.prototype,a,{value:function(a){return b(this,a)}}),o(I.prototype,a,{value:function(a){return b(this,a)}}),o(U.prototype,a,{value:function(a){return b(this,a)}}),c}(),T=function(){function a(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"==typeof a||"boolean"==typeof a)return a>b?1:-1;if("string"==typeof a)return a.localeCompare(b);if(a instanceof B&&b instanceof B){var c=a.getTime(),d=b.getTime();return c>d?1:d>c?-1:0}var e=a.valueOf(),f=b.valueOf();return e>f?1:f>e?-1:0}return a}(),i=function(){function Enumerator(d){var c=!1,a=W,f=function(b){return c=!0,a=b};b(d,e),this.next=function(){return a=void 0,c=!1,d(f),this.current=a,c},this.current=a}return Enumerator}(),f=function(){function Enumerable(b){a(this,b)}function d(a){if(a=a||[],"function"==typeof a)return a instanceof e?d(a()):a();if(R(a)){var b=-1,g=a.length;return new i(function(c){return++b<g?c(a[b]):void 0})}if("function"==typeof a.getEnumerator)return a.getEnumerator();if("function"==typeof a[c]){var f,h=a[c]();return new i(function(a){return(f=h.next()).done?void 0:a(f.value)})}return function(){if("object"!=typeof a)return d([a]);var b=[];for(var e in a)b.push(e);var c=-1,f=b.length;return new i(function(d){return++c<f?d(new F(b[c],a[b[c]])):void 0})}()}var c=n($)&&"symbol"==typeof $.iterator?$.iterator:"@@iterator",e=function(){try{return eval("(function*() {}).constructor")}catch(a){return function(){}}}(),g=P(new Enumerable([]));return o(Enumerable.prototype,c,{value:function(){var a=this.getEnumerator();return{next:function(){return{done:!a.next(),value:a.current}}}}}),m(Enumerable,{getEnumerator:function(){return d(a(this))}},{empty:function(){return g},is:function(a){return null==a?!1:R(a)||a instanceof f||a instanceof e||"function"==typeof a.getEnumerator||"function"==typeof a[c]?!0:!1},range:function(c,a){b(c,j),b(a,j);var d=c+a-1;return(0>a||d>j.MAX_VALUE)&&h(C),new f(function(){var b=-1;return new i(function(d){return++b<a?d(c+b):void(b=-1)})})},repeat:function(c,a){return b(a,j),0>a&&h(C),new f(function(){var b=a;return new i(function(d){return b-->0?d(c):void(b=a)})})}})}(),L=function(){function Comparer(a){n(a)&&o(this,"compare",{value:a})}return m(Comparer,{compare:function(a,b){return T(a,b)}},{defaultComparer:new Comparer,create:function(a){return new L(a)}})}(),H=function(){function EqualityComparer(a,b){n(b)&&o(this,"equals",{value:b}),n(a)&&o(this,"hash",{value:a})}return m(EqualityComparer,{equals:function(a,b){return w(a,b,!0)},hash:function(a){return z(a,!0)}},{defaultComparer:new EqualityComparer,create:function(a,b){return new H(a,b)}})}(),p=function(){function Collection(b){b&&a(this,l(b))}return m(Collection,f,{count:function(){var b=a(this);return b?t(b):void h(da)},copyTo:function(a,b){A(this,a,b)},getEnumerator:function(){var b=a(this);return b?d(b):void h(da)}})}(),Y=function(){function ReadOnlyCollection(c){b(c,G),a(this,c),o(this,"length",{get:function(){return c.length}});for(var d=0,e=c.count();e>d;d++)this[d]=c[d];P(this)}return m(ReadOnlyCollection,p,{splice:function(){},get:function(b){return a(this).get(b)},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(b,c){a(this).copyTo(b,c)},indexOf:function(b){return a(this).indexOf(b)},items:function(){return a(this).items()},getEnumerator:function(){return d(a(this))}})}(),G=function(){function List(c){var e=arguments,d=0;a(this,this),o(this,"length",{get:function(){return d},set:function(c){b(c,j);var a=d;if(d=D.max(c,0),a>d)do delete this[a];while(a--<d)}}),1===e.length&&null!==c?g(c,j)?d=c:f.is(c)?this.addRange(c):this.add(c):this.addRange(e)}function d(c,a){b(a,j),(0>a||a>=c.length)&&h(C)}return m(List,p,{add:function(a){this[this.length]=a,this.length++},addRange:function(a){k(a),this.insertRange(this.length,a)},asReadOnly:function(){return new Y(this)},binarySearch:function(b){var a=arguments,c=g(a[1],j)?a[1]:0,d=g(a[1],j)?a[2]:this.length,e=S(4===a.length?a[3]:a[1]);return _(this,c,d,b,e)},clear:function(){this.length=0},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(a,b){A(this,a,b)},exists:function(a){a=c(a),b(a,e);for(var d=0,f=this.length;f>d;d++)if(a(this[d])===!0)return!0;return!1},find:function(a){a=c(a),b(a,e);for(var d=0,f=this.length;f>d;d++)if(a(this[d])===!0)return this[d];return null},findAll:function(a){a=c(a),b(a,e);for(var f=new q(this.length),g=0,d=0,h=this.length;h>d;d++)a(this[d])===!0&&(f[g++]=this[d]);return f.length=g,new G(f)},findIndex:function(){var a=arguments,h=this.length,f=g(a[0],j)?a[0]:0,k=g(a[1],j)?a[1]:h-f,i=c(a[a.length-1]);for(b(i,e),d(this,f);k-->0&&h>f;){if(i(this[f])===!0)return f;f++}return-1},findLast:function(a){a=c(a),b(a,e);for(var d=this.length;d-->0;)if(a(this[d])===!0)return this[d];return null},findLastIndex:function(){var a=arguments,f=g(a[0],j)?a[0]:this.length-1,i=g(a[1],j)?a[1]:f,h=c(a[a.length-1]);for(b(h,e),d(this,f);i-->0&&f>0;){if(h(this[f])===!0)return f;f--}return-1},forEach:function(a){a=c(a),b(a,e);for(var d=0,f=this.length;f>d;d++)a(this[d])},get:function(a){return d(this,a),this[a]},getRange:function(a,b){return d(this,a+b-1),new G(this.slice(a,a+b))},indexOf:[].indexOf,insert:function(a,c){a!==this.length&&d(this,a);for(var b=++this.length;b-->a;)this[b]=this[b-1];this[a]=c},insertRange:function(a,f){b(a,j),k(f),a!==this.length&&d(this,a);var g=l(f),c=g.length,e=this.length+c;for(this.length=e;e-->a;)this[e]=this[e-c];for(;c-->0;)this[a+c]=g[c]},items:function(){return this.slice()},lastIndexOf:[].lastIndexOf,remove:function(b){var a=this.indexOf(b);return-1!==a?(this.removeAt(a),!0):!1},removeAll:function(g){g=c(g),b(g,e);for(var a=0,d=this.length;d>a&&!g(this[a]);)a++;if(a>=d)return 0;for(var f=a+1;d>f;){for(;d>f&&g(this[f]);)f++;d>f&&(this[a++]=this[f++])}return this.length=a,d-a},removeAt:function(b){d(this,b);for(var a=b,c=--this.length;c>a;a++)this[a]=this[a+1];delete this[c]},removeRange:function(a,b){d(this,a+b-1);for(var c=this.length-b;c>a;a++)this[a]=this[a+b];this.length=c},reverse:function(a,b){a=a||0,b=b||this.length,d(this,a+b-1);for(var e=this.slice(a,a+b).reverse(),c=e.length;c-->0;)this[c+a]=e[c]},slice:[].slice,splice:[].splice,set:function(a,b){d(this,a),this[a]=b},sort:function(){var a,h,e=arguments,i=e[0],k=c(i),l=S(3===e.length?e[3]:i),f=0;for(e.length>0?n(k)?a=this.items().sort(k):(g(i,j)?(f=i,b(e[1],j),d(this,f+e[1]-1),a=this.slice(f,f+e[1])):a=this.items(),a=a.sort(function(a,b){return l.compare(a,b)})):a=this.items().sort(),h=a.length;h-->0;)this[h+f]=a[h]},toArray:function(){return this.items()},trueForAll:function(a){a=c(a),b(a,e);for(var d=0,f=this.length;f>d;d++)if(a(this[d])===!1)return!1;return!0},getEnumerator:function(){var a=-1,b=this.length,c=this;return new i(function(d){return++a<b?d(c[a]):void 0})}})}(),ja=function(){function SortedList(c,f){var b=g(c,O)?c:null,e=g(c,j)?c:b?b.count():0,h=S(f?f:b?null:c),i=new q(e),k=new q(e),n=b?b.count():0;if(b)for(var m=l(b).sort(function(a,b){return h.compare(a.key,b.key)}),d=e;d-->0;)i[d]=m[d].key,k[d]=m[d].value;a(this,{size:n,comparer:h,keys:i,values:k})}function c(k,b,g,h){var e=a(k),f=e.size,c=e.keys,i=e.values;if(f==c.length){var d=0===c.length?4:2*c.length,l=j.MAX_VALUE,m=f+1;d>l&&(d=l),m>d&&(d=m),k.capacity(d)}f>b&&(c.splice(b,0,g),i.splice(b,0,h)),e.size++,c[b]=g,i[b]=h}return m(SortedList,p,{add:function(b,f){k(b);var d=a(this),e=_(d.keys,0,d.size,b,d.comparer);e>=0&&h(ia),c(this,~e,b,f)},get:function(c){var b=this.indexOfKey(c);return b>=0?a(this).values[b]:void h(ha)},capacity:function(c){var d=a(this),e=d.keys,f=d.size;return null==c?e.length:(b(c,j),void(c!==e.length&&(f>c&&h(C),d.keys.length=c,d.values.length=c)))},clear:function(){var b=a(this);b.size=0,b.keys.length=0,b.values.length=0},comparer:function(){return a(this).comparer},containsKey:function(a){return this.indexOfKey(a)>=0},containsValue:function(a){return this.indexOfValue(a)>=0},count:function(){return a(this).size},keys:function(){var b=a(this);return new p(b.keys.slice(0,b.size))},values:function(){var b=a(this);return new p(b.values.slice(0,b.size))},indexOfKey:function(c){k(c);var b=a(this);return _(b.keys,0,b.size,c,b.comparer)},indexOfValue:function(b){return a(this).values.indexOf(b)},remove:function(b){var a=this.indexOfKey(b);return a>=0?(this.removeAt(a),!0):!1},removeAt:function(c){b(c,j);var d=a(this),e=d.keys,f=d.values,g=e.length;(0>c||c>=d.size)&&h(C),d.size--,e.splice(c,1),f.splice(c,1),e.length=g,f.length=g},set:function(d,e){var b=this.indexOfKey(d);return b>=0?void(a(this).values[b]=e):void c(this,~b,d,e)},trimExcess:function(){var b=a(this),c=b._size,d=.9*b.keys.length;d>c&&this.capacity(c)},tryGetValue:function(f,c){b(c,e);var d=this.indexOfKey(f);return d>=0?(c(a(this).values[d]),!0):!1},getEnumerator:function(){var b=a(this),d=b.keys,e=b.values,f=b.size,c=-1;return new i(function(a){return++c<f?a(new F(d[c],e[c])):void 0})}})}(),F=function(){function KeyValuePair(a,b){this.key=a,this.value=b,P(this)}return m(KeyValuePair,{__hash__:function(){return ga(this.key,this.value)},__equals__:function(a){return g(a,F)&&w(this.key,a.key)&&w(this.value,a.value)}})}(),O=function(){function Dictionary(){var b=arguments,c=g(b[0],O)?b[0]:null,e=c?b[1]:M(b[0]),h=c?new x(c.count(),e):g(b[0],j)?new x(b[0],e):new x(e);if(a(this,h),c)for(var f=d(c);f.next();)h.add(f.current.key,f.current.value)}return m(Dictionary,p,{add:function(b,c){k(b),a(this).add(b,c)||h(ia)},clear:function(){a(this).clear()},count:function(){return a(this).count()},containsKey:function(b){return k(b),a(this).contains(b)},containsValue:function(c){for(var b=d(a(this));b.next();)if(w(b.current.value,c))return!0;return!1},copyTo:function(a,b){A(this.keys(),a,b)},keys:function(){return a(this).keys()},values:function(){return a(this).values()},get:function(b){return k(b),a(this).get(b)},set:function(b,c){k(b),a(this).set(b,c)},tryGetValue:function(c,d){k(c),b(d,e);var f=a(this).entry(c);return null!=f?(d(f.value),!0):!1},remove:function(b){return k(b),a(this).remove(b)},getEnumerator:function(){var b=d(a(this));return new i(function(a){for(;b.next();)return a(new F(b.current.key,b.current.value))})}})}(),x=function(){function HashTable(){var b=arguments,e=g(b[0],j)&&b[0]>a[0]?c(b[0]):a[0],f=M(2===b.length?b[1]:b[0]);d(this,e,f)}function e(a,b,c,d){this.hash=a,this.next=b,this.key=c,this.value=d}function c(c){for(var b=0,d=a.length;d>b;b++)if(a[b]>c)return a[b];return a[a.length-1]}function d(b,c,d){c=c||a[0],d=d||b._comparer||H.defaultComparer;var f=new q(c),g=new q(c);b._count=0,b._freeIndex=-1,b._freeCount=0,b._buckets=f,b._entries=g,b._comparer=d;for(var e=0;c>e;e++)f[e]=-1}function b(c,d){for(var e=c._comparer,f=c._buckets,h=c._entries,g=2147483647&e.hash(d),i=f.length,a=null,b=f[g%i];b>=0;){if(a=h[b],a.hash===g&&e.equals(a.key,d))return b;b=a.next}return-1}function f(e){var h=e._count,b=c(h),d=e._buckets,i=e._entries,f=null,g=0,j=0,a=0;for(d.length=b,i.length=b,a=0;b>a;a++)d[a]=-1;for(a=0;h>a;a++)f=i[a],(j=f.hash)>=0&&(g=j%b,f.next=d[g],d[g]=a);return b}var a=[17,67,257,1031,4099,16411,65537,262147,1048583,4194319,16777259];return m(HashTable,p,{get:function(c){var a=b(this,c);return-1===a&&h(ha),this._entries[a].value},entry:function(c){var a=b(this,c);return a>=0?this._entries[a]:null},set:function(a,b){this.add(a,b,!0)},add:function(i,j,m){for(var d=this._entries,g=this._buckets,k=this._comparer,c=2147483647&k.hash(i),h=c%g.length,b=null,a=g[h];a>=0;){if(b=d[a],b.hash===c&&k.equals(b.key,i))return m?(b.value=j,!0):!1;a=b.next}var l=this._count,n=this._freeCount,o=this._freeIndex,a=0;return n>0?(a=o,this._freeIndex=d[a].next,this._freeCount--):(l===d.length&&(h=c%f(this)),a=l,this._count++),d[a]=new e(c,g[h],i,j),g[h]=a,!0},remove:function(e){for(var a,f=this._comparer,c=this._buckets,g=this._entries,h=2147483647&f.hash(e),i=h%c.length,d=-1,b=c[i];b>=0;){if(a=g[b],a.hash==h&&f.equals(a.key,e))return 0>d?c[i]=a.next:g[d].next=a.next,a.hash=-1,a.next=this._freeIndex,a.key=null,a.value=null,this._freeIndex=b,this._freeCount++,!0;d=b,b=a.next}return!1},clear:function(){d(this)},count:function(){return this._count-this._freeCount},contains:function(a){return-1!=b(this,a)},comparer:function(){return this._comparer},keys:function(){for(var d=this._count,c=new q(this.count()),e=this._entries,a=null,f=0,b=0;d>b;b++)a=e[b],a.hash>=0&&(c[f++]=a.key);return new p(c)},values:function(){for(var d=this._count,c=new q(this.count()),e=this._entries,a=null,f=0,b=0;d>b;b++)a=e[b],a.hash>=0&&(c[f++]=a.value);return new p(c)},getEnumerator:function(){var a=0,b=null,c=this._count,d=this._entries;return new i(function(e){for(;c>a;){if(b=d[a],b.hash>=0)return a++,e(new F(b.key,b.value));a++}})}})}(),y=function(){function HashSet(){var b=arguments,d=f.is(b[0])?v(b[0]):null,h=M(1===b.length&&null==d?b[0]:b[1]),e=new x(t(b[0]),h);if(a(this,e),d)for(var g=l(b[0]),c=0,i=g.length;i>c;c++)e.add(g[c],null)}function o(a,b){this.uniqueCount=a,this.unfoundCount=b}function h(a,b){return g(a,y)&&g(b,y)&&a.comparer()===b.comparer()}function n(c,e){for(var b=d(e),f=a(c);b.next();)if(!f.contains(b.current))return!1;return!0}function q(c,e){for(var b=d(c),f=a(e);b.next();)if(!f.contains(b.current))return!1;return!0}function j(c,g,h){var b=d(g);if(0===c.count()&&b.next())return new o(0,1);for(var e=0,f=0,i=a(c),j=new x(c.comparer());b.next();)if(i.contains(b.current))j.add(b.current,null)&&f++;else if(e++,h)break;return new o(f,e)}return m(HashSet,p,{add:function(b){return a(this).add(b,null)},clear:function(){a(this).clear()},count:function(){return a(this).count()},contains:function(b){return a(this).contains(b)},copyTo:function(b,c){A(a(this).keys(),b,c)},comparer:function(){return a(this).comparer()},remove:function(b){return a(this).remove(b)},removeWhere:function(d){d=c(d),b(d,e);for(var f,g=this.count(),i=a(this),j=l(this),h=0;g-->0;)f=j[g],d(f)&&i.remove(f)&&h++;return h},exceptWith:function(b){if(k(b),0!==this.count()){if(b===this)return void this.clear();for(var c=d(b),e=a(this);c.next();)e.remove(c.current)}},intersectWith:function(b){if(k(b),0!==this.count()){var c=t(b);if(-1!==c){if(0===c)return void this.clear();if(h(this,b)){for(var d,g=a(this),i=a(b),e=l(this),f=e.length;f-->0;)i.contains(d=e[f])||g.remove(d);return}}this.intersectWith(new y(b,this.comparer()))}},isProperSubsetOf:function(a){k(a);var b=t(a);if(-1!==b){if(0===this.count())return b>0;if(h(this,a))return this.count()>=b?!1:q(this,a)}var c=j(this,a,!1);return c.uniqueCount===this.count()&&c.unfoundCount>0},isProperSupersetOf:function(a){if(k(a),0===this.count())return!1;var b=t(a);if(-1!==b){if(0===b)return!0;if(h(this,a))return b>=this.count()?!1:n(this,a)}var c=j(this,a,!0);return c.uniqueCount<this.count()&&0===c.unfoundCount},isSubsetOf:function(a){if(k(a),0===this.count())return!0;if(h(this,a))return this.count()>a.count()?!1:q(this,a);var b=j(this,a,!1);return b.uniqueCount===this.count()&&b.unfoundCount>=0},isSupersetOf:function(a){k(a);var b=t(a);if(-1!==b){if(0===b)return!0;if(h(this,a)&&b>this.count())return!1}return n(this,a)},overlaps:function(b){if(k(b),0===this.count())return!1;for(var c=d(b),e=a(this);c.next();)if(e.contains(c.current))return!0;return!1},setEquals:function(a){if(k(a),h(this,a))return this.count()!==a.count()?!1:n(this,a);var b=t(a);if(-1!==b&&0===this.count()&&b>0)return!1;var c=j(this,a,!0);return c.uniqueCount===this.count()&&0===c.unfoundCount},symmetricExceptWith:function(b){if(k(b),0===this.count())return void this.unionWith(b);if(b===this)return void this.clear();if(h(this,b))for(var c=d(b),e=a(this);c.next();)e.remove(c.current)||e.add(c.current,null);else this.symmetricExceptWith(new y(b,this.comparer()))},unionWith:function(b){k(b);for(var c=d(b),e=a(this);c.next();)e.add(c.current,null)},getEnumerator:function(){var b=d(a(this));return new i(function(a){for(;b.next();)return a(b.current.key)})}})}(),r=function(){function LinkedListNode(a){this._value=a,this._list=null,this._next=null,this._prev=null}return m(LinkedListNode,{value:function(){return this._value},list:function(){return this._list},next:function(){return null==this._next||this._next===a(this._list).head?null:this._next},previous:function(){return null==this._prev||this===a(this._list).head?null:this._prev}})}(),ma=function(){function LinkedList(c){if(a(this,{count:0,head:null}),c)for(var d=l(c),b=0,e=d.length;e>b;b++)this.addLast(d[b])}function e(a){a._list=null,a._next=null,a._prev=null}function d(f,e,d){b(e,r),b(d,r),c(d),c(e,f),d._list=f,d._next=e,d._prev=e._prev,e._prev._next=d,e._prev=d,a(f).count++}function f(e,d){b(d,r),c(d);var f=a(e);d._list=e,d._next=d,d._prev=d,f.head=d,f.count++}function c(a,b){(null===b&&null!=a._list||a._list!=b)&&h("Invalid node list.")}return m(LinkedList,p,{add:function(a){this.addLast(a)},clear:function(){for(var c=a(this),b=c.head;null!=b;){var d=b;b=b.next(),e(d)}c.head=null,c.count=0},count:function(){return a(this).count},contains:function(a){return null!=this.find(a)},copyTo:function(a,b){A(this,a,b)},getFirst:function(){return a(this).head},getLast:function(){var b=a(this).head;return null==b?null:b._prev},addAfter:function(c,e){b(c,r);var a;return g(e,r)?(a=e,d(this,c._next,a)):(a=new r(e),this.addAfter(c,a)),a},addBefore:function(e,f){b(e,r);var c,h=a(this);return g(f,r)?(c=f,d(this,e,c),e===h.head&&(h.head=c)):(c=new r(f),this.addBefore(e,c)),c},addFirst:function(h){var b,e;return g(h,r)?(b=h,e=a(this),c(b),null==e.head?f(this,b):(d(this,e.head,b),e.head=b)):(b=new r(h),this.addFirst(b)),b},addLast:function(e){var b,h;return g(e,r)?(b=e,h=a(this),c(b),null==h.head?f(this,b):d(this,h.head,b)):(b=new r(e),this.addLast(b)),b},find:function(d){var c=a(this),b=c.head;if(null!=b)if(null!=d)do{if(w(b._value,d))return b;b=b._next}while(b!==c.head);else do{if(null==b._value)return b;b=b._next}while(b!==c.head);return null},findLast:function(d){var e=a(this);if(null==e.head)return null;var c=e.head._prev,b=c;if(null!=b)if(null!=d)do{if(w(b._value,d))return b;b=b._prev}while(b!==c);else do{if(null==b._value)return b;b=b._prev}while(b!==c);return null},remove:function(f){var b,d;return g(f,r)?(b=f,d=a(this),c(b,this),b._next===b?d.head=null:(b._next._prev=b._prev,b._prev._next=b._next,d.head===b&&(d.head=b._next)),e(b),d.count--,!0):null!=(b=this.find(f))?(this.remove(b),!0):!1},removeFirst:function(){var b=a(this);null==b.head&&h(J),this.remove(b.head)},removeLast:function(){var b=a(this);null==b.head&&h(J),this.remove(b.head._prev)},getEnumerator:function(){var c=a(this).head,b=c;return new i(function(a){if(null!=b){var d=b._value;return b=b._next,b===c&&(b=null),a(d)}})}})}(),na=function(){function Queue(b){var c=[];null!=b&&(c=l(b).concat()),a(this,c)}return m(Queue,p,{clear:function(){a(this).length=0},count:function(){return a(this).length},contains:function(b){return-1!==a(this).indexOf(b)},copyTo:function(a,b){A(this,a,b)},dequeue:function(){var b=a(this),c=b.length;return c>0?b.shift():void h(J)},enqueue:function(b){a(this).push(b)},peek:function(){var b=a(this),c=b.length;return c>0?b[0]:void h(J)},getEnumerator:function(){return d(a(this))}})}(),oa=function(){function Stack(b){var c=[];null!=b&&(c=l(b).concat()),a(this,c)}return m(Stack,p,{clear:function(){a(this).length=0},count:function(){return a(this).length},contains:function(b){return-1!==a(this).indexOf(b)},copyTo:function(a,b){A(this,a,b)},peek:function(){var b=a(this),c=b.length;return c>0?b[c-1]:void h(J)},pop:function(){var b=a(this),c=b.length;return c>0?b.pop():void h(J)},push:function(b){a(this).push(b)},getEnumerator:function(){return d(a(this))}})}(),V=function(){function Lookup(j,k,h,m){for(var b,c,d,e,g=new x(t(j),m),i=l(j),n=i.length,f=0;n>f;f++)b=i[f],c=k(b),d=g.entry(c),e=h?h(b):b,null==d?g.add(c,new fa(c,[e])):d.value.elements.push(e);a(this,g)}return m(Lookup,p,{contains:function(b){return a(this).contains(b)},count:function(){return a(this).count()},get:function(c){var b=a(this).entry(c);return null==b?f.empty():b.value},getEnumerator:function(){var b=d(a(this));return new i(function(a){for(;b.next();)return a(b.current.value)})}})}(),fa=function(){function Grouping(a,b){this.key=a,this.elements=b,P(this)}return m(Grouping,p,{count:function(){return this.elements.length},getEnumerator:function(){return d(this.elements)}})}(),Z=function(){function OrderedEnumerable(g,d,h,i,f){var j=S(h);d=c(d),b(d,e),u(this,{source:function(){return g},sorter:function(c){var b=new a(d,j,i,c);return null!=f&&(b=f.sorter(b)),b}})}function a(a,b,c,d){this.keySelector=a,this.comparer=b,this.descending=c,this.next=d}return m(a,{computeKeys:function(c,b){for(var d=new q(b),e=this.keySelector,a=0;b>a;a++)d[a]=e(c[a]);null!=this.next&&this.next.computeKeys(c,b),this.keys=d},compareKeys:function(a,b){var c=this.comparer.compare(this.keys[a],this.keys[b]);return 0===c?null==this.next?a-b:this.next.compareKeys(a,b):this.descending?-c:c},sort:function(d,a){this.computeKeys(d,a);for(var c=new q(a),b=0;a>b;b++)c[b]=b;return this.quickSort(c,0,a-1),c},quickSort:function(c,d,e){do{var a=d,b=e,f=c[a+(b-a>>1)];do{for(;a<c.length&&this.compareKeys(f,c[a])>0;)a++;for(;b>=0&&this.compareKeys(f,c[b])<0;)b--;if(a>b)break;if(b>a){var g=c[a];c[a]=c[b],c[b]=g}a++,b--}while(b>=a);e-a>=b-d?(b>d&&this.quickSort(c,d,b),d=a):(e>a&&this.quickSort(c,a,e),e=b)}while(e>d)}}),m(OrderedEnumerable,f,{createOrderedEnumerable:function(a,b,c){return new OrderedEnumerable(this.source(),a,b,c,this)},thenBy:function(a,b){return this.createOrderedEnumerable(a,b,!1)},thenByDescending:function(a,b){return this.createOrderedEnumerable(a,b,!0)},getEnumerator:function(){var a,b,d=this.source(),e=this,c=0;return new i(function(f){return null==a&&(a=l(d),b=e.sorter(null).sort(a,a.length)),c<a.length?f(a[b[c++]]):void 0})}})}(),ca=function(){function m(c,e){var a=o(c);if(a){for(var b=0,g=a.length;g>b;b++)if(e(a[b])===!1)return!1}else for(var f=d(c);f.next();)if(e(f.current)===!1)return!1;return!0}function o(b){if(g(b,q)||g(b,I)||g(b,G)||g(b,Y))return b;var c=a(b);return c&&(g(c,q)||g(c,I)||g(c.length,j)&&n(c.splice))?c:null}function p(b,c,d){var a=new x(t(b),d);return m(b,function(b){var d=c(b),e=a.entry(d);null==e?a.add(d,[b]):e.value.push(b)}),a}var r={aggregate:function(i,o,a){var d,j=arguments,k=c(1===j.length?i:o),m=1===j.length?W:i,g=l(this),n=g.length,f=0;for(b(k,e),a&&(a=c(a),b(a,e)),m===W?(0===n&&h(N),d=g[f++]):d=m;n>f;f++)d=k(d,g[f]);return a?a(d):d},all:function(a){return a=c(a),b(a,e),m(this,function(b){return a(b)===!0})},any:function(a){return a=c(a),!m(this,function(b){return a?a(b)===!1:!1})},asEnumerable:function(){return v(this)},average:function(a){if(a)return a=c(a),b(a,e),v(this).select(a).average();var d=l(this),f=d.length,g=0;for(0===f&&h(K);f-->0;)g+=d[f];return isNaN(g)&&h(aa),g/d.length},concat:function(a){k(a);var b=this;return new f(function(){var c=d(b),e=d(a);return new i(function(a){for(;c.next();)return a(c.current);for(;e.next();)return a(e.current);e=c=null})})},contains:function(b,c){for(var e=M(c),a=d(this);a.next();)if(X(a.current,b,e))return!0;return!1},count:function(a){if(a)return a=c(a),b(a,e),v(this).where(a).count();var f=t(this);if(-1!==f)return f;for(var g=d(this),f=0;g.next();)f++;return f},defaultIfEmpty:function(a){var b=this;return new f(function(){var c=d(b),e=!0;return new i(function(b){if(c.next()){e=!1;do return b(c.current);while(c.next())}else if(e)return e=!1,b(null==a?null:a)})})},distinct:function(b){var a=this;return new f(function(){var c=d(a),e=new x(t(a),b);return new i(function(a){for(;c.next();)if(e.add(c.current))return a(c.current)})})},except:function(a,b){var c=this;return new f(function(){var e=d(c),f=new y(a,b);return new i(function(a){for(;e.next();)if(!f.contains(e.current))return a(e.current)})})},elementAt:function(a){b(a,j),0>a&&h(C);var c=o(this);if(c){if(a<c.length)return c[a]}else for(var e=d(this),f=0;e.next();)if(a===f++)return e.current;h(C)},first:function(a){var b={},c=this.firstOrDefault(a,b);return c===b&&h(a?N:K),c},firstOrDefault:function(a,d){var b=d||null;return a=c(a),m(this,function(c){return null==a||a(c)?(b=c,!1):void 0}),b},forEach:function(a){a=c(a),b(a,e);var d=0;m(this,function(b){a(b,d++)})},groupBy:function(g){g=c(g),b(g,e);var a=arguments,j=c(a[2]),h=c(a[3]),k=2!==a.length||j?3!==a.length||h?a[3]:a[2]:a[1],l=this;return new f(function(){var a=d(new V(l,g,j,k));return new i(function(b){if(h)for(;a.next();)return b(h(a.current.key,a.current.value));else for(;a.next();)return b(a.current)})})},groupJoin:function(j,a,g,h,l){a=c(a),g=c(g),h=c(h),k(j),b(a,e),b(g,e),b(h,e);var m=this;return new f(function(){var b=d(m),c=p(j,g,l);return new i(function(e){for(;b.next();){var d=c.entry(a(b.current));return e(h(b.current,d?new f(d.value):f.empty()))}})})},intersect:function(a,b){var c=this;return new f(function(){var e=d(c),f=new y(a,b);return new i(function(a){for(;e.next();)if(f.contains(e.current))return a(e.current)})})},join:function(j,a,g,h,l){a=c(a),g=c(g),h=c(h),k(j),b(a,e),b(g,e),b(h,e);var m=this;return new f(function(){var b,e,c=d(m),n=p(j,g,l),k=0;return c.next()?new i(function(d){do{if(null==b){if(e=n.entry(a(c.current)),null==e)continue;b=e.value}if(k<b.length)return d(h(c.current,b[k++]));k=0,b=null}while(c.next())}):f.empty().getEnumerator()})},last:function(a){var b={},c=this.lastOrDefault(a,b);return c===b&&h(a?N:K),c},lastOrDefault:function(a,f){a=c(a);var e=f||null,b=o(this);if(b){var d=b.length;if(a){for(;d--;)if(a(b[d]))return b[d]}else if(d>0)return b[d-1]}else m(this,function(b){(null==a||a(b))&&(e=b)});return e},max:function(a){if(a)return a=c(a),b(a,e),v(this).select(a).max();var f=l(this),d=f.length;if(0!==d){for(var g,i=f[--d];d-->0;)g=f[d],g>i&&(i=g);return i}h(K)},min:function(a){if(a)return a=c(a),b(a,e),v(this).select(a).min();var f=l(this),d=f.length;if(0!==d){for(var g,i=f[--d];d-->0;)g=f[d],i>g&&(i=g);return i}h(K)},ofType:function(a){b(a,e);var c=this;return new f(function(){
var b=d(c);return new i(function(c){for(;b.next();)if(g(b.current,a))return c(b.current)})})},orderBy:function(a,b){return new Z(this,a,b,!1)},orderByDescending:function(a,b){return new Z(this,a,b,!0)},reverse:function(){var a=l(this),b=a.length;return new f(function(){return new i(function(c){return b-->0?c(a[b]):void 0})})},sequenceEqual:function(e,f){var b=l(this),c=l(e),g=M(f),d=b.length;if(d===c.length){for(var a=0;d>a;a++){var h=b[a],i=c[a];if(!X(h,i,g))return!1}return!0}return!1},select:function(a){a=c(a),b(a,e);var g=this;return new f(function(){var b=d(g),c=0;return new i(function(d){for(;b.next();)return d(a(b.current,c++))})})},selectMany:function(g,a){g=c(g),b(g,e),a&&(a=c(a),b(a,e));var h=this;return new f(function(){var b,c=d(h),e=0;return new i(function(f){for(;null!=b||c.next();){for(b=b||d(g(c.current,e++));b.next();)return f(a?a(c.current,b.current):b.current);b=null}})})},single:function(a){var b={},c=this.singleOrDefault(a,b);return c===b&&h(a?N:K),c},singleOrDefault:function(a,e){var b=0,d=e||null;return a=c(a),m(this,function(c){if(null==a||a(c)){if(b>1)return!1;d=c,b++}}),2>b?d:void h(a?la:pa)},skip:function(a){b(a,j);var e=this,c=o(this);return new f(c?l(c).slice(a):function(){var b=d(e),c=0;return new i(function(d){for(;b.next();)if(c++>=a)return d(b.current)})})},skipWhile:function(a){a=c(a),b(a,e);var g=this;return new f(function(){var b=d(g),c=!1,e=-1;return new i(function(d){for(;b.next();)if(e++,c||a(b.current,e)||(c=!0),c)return d(b.current)})})},sum:function(a){if(a)return a=c(a),b(a,e),v(this).select(a).sum();for(var f=l(this),g=f.length,d=0;g-->0;)d+=f[g];return isNaN(d)&&h(aa),d},take:function(a){b(a,j);var e=this,c=o(this);return new f(c?l(c).slice(0,a):function(){var b=d(e),c=0;return new i(function(d){for(;c++<a&&b.next();)return d(b.current)})})},takeWhile:function(a){a=c(a),b(a,e);var g=this;return new f(function(){var b=d(g),c=-1;return new i(function(d){for(;b.next()&&(c++,a(b.current,c));)return d(b.current)})})},toArray:function(){return l(this).concat()},toDictionary:function(a){a=c(a),b(a,e);var d=arguments,f=c(d[1]),h=2!==d.length||f?d[2]:d[1],g=new O(h);return m(this,function(b){return g.add(a(b),f?f(b):b)}),g},toList:function(){return new G(this)},toLookup:function(a){a=c(a||"t => t"),b(a,e);var d=arguments,f=c(d[1]),g=2!==d.length||f?d[2]:d[1];return new V(this,a,f,g)},union:function(a,b){var c=this;return new f(function(){var e=d(c),f=d(a),g=new y(b);return new i(function(a){for(;e.next();)if(g.add(e.current))return a(e.current);for(;f.next();)if(g.add(f.current))return a(f.current)})})},where:function(a){a=c(a),b(a,e);var g=this;return new f(function(){var b=d(g),c=0;return new i(function(d){for(;b.next();)if(a(b.current,c++))return d(b.current)})})},zip:function(g,a){a=c(a),b(a,e);var h=this;return new f(function(){var c=d(h),b=d(g);return new i(function(d){for(;c.next()&&b.next();)return d(a(c.current,b.current));b=null})})}};return r}();ea(f);var mx=u(multiplex,{runtime:u({},{hash:z,equals:w,compare:T,lambda:c,define:o,mixin:u},{enumerable:!0}),extensions:u({},ca,{enumerable:!0}),hash:ga,equals:X,compare:T,range:f.range,repeat:f.repeat,empty:f.empty,is:f.is,extend:ea,Enumerator:i,Enumerable:f,Collection:p,ReadOnlyCollection:Y,List:G,SortedList:ja,Dictionary:O,KeyValuePair:F,HashSet:y,LinkedList:ma,LinkedListNode:r,Queue:na,Stack:oa,Lookup:V,Grouping:fa,OrderedEnumerable:Z,Comparer:L,EqualityComparer:H},{enumerable:!0});u(s,{mx:mx,multiplex:mx})}(this);
//# sourceMappingURL=multiplex.map