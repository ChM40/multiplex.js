/*--------------------------------------------------------------------------

* Multiplex.js - Comprehensive data-structure and LINQ library for JavaScript.
* Ver 0.9.2 (May 18, 2015)

* Created and maintained by Kamyar Nazeri <Kamyar.Nazeri@yahoo.com>
* Licensed under Apache License Version 2.0
* https://github.com/multiplex/multiplex.js

*--------------------------------------------------------------------------*/

!function(t){"use strict";function c(b,a){switch(typeof b){case T:return a===h;case K:return a===s;case L:return a===d;case ea:return a===ba;case xa:return a===M;default:return b instanceof a}}function k(a){return typeof a===L}function ka(a,b){return k(a.hasOwnProperty)?a.hasOwnProperty(b):b in a}function i(a){throw new ua(a)}function o(f,a,b){if($(f,a,b),c(a,s)&&c(b.value,d)){var e=b.value,g="toString",h="function "+a+(e.toString().match(/\(.*?\)/)||[""])[0]+" {...}";ka(e,g)||$(e,g,{value:function(){return h}})}return f}function z(b,d,a){if(b){a=a||{};for(var c in d)ka(b,c)||o(b,c,{value:d[c],writable:a.writable||!1,enumerable:a.enumerable||!1,configurable:a.configurable||!1})}return b}function ha(b,c){var a=c?b:{},d=c||b;return k(a)&&(a=n(a)),Q(z(a,d,{enumerable:!0}))}function n(a,d){var b=arguments,c=k(d)?d:null,e=4===b.length||c?b[2]:d,f=4===b.length||c?b[3]:b[2],h="function "+(a.name||a.toString().match(/function (.+)\(.*?\)/)[1])+"() {...}";if($(a,"toString",{value:function(){return h}}),c){var g=function(){o(this,"constructor",{value:a})};g.prototype=c.prototype,a.prototype=new g}return e&&z(a.prototype,e),f&&z(a,f),a}function m(a){null==a&&i("Value cannot be null.")}function b(b,a){c(b,a)||i("Invalid parameter type. Expected type: "+a.toString().match(/^function (.+)\(/)[1])}function e(a){switch(typeof a){case L:return a;case K:var b=/^\s*\(?\s*(([a-z_$]{1}[a-z0-9_$]*)+([, ]+[a-z_$]{1}[a-z0-9_$]*)*)*\s*\)?\s*=>\s*(.*)$/i;if(b.test(a)){var c=a.match(b);return new d((c[1]||"").replace(/ /g,""),"return "+c[4])}i("Cannot parse supplied expression: "+a);break;default:return null}}function _(d){if(1===arguments.length)return J(d,!0);for(var a=arguments,e=a.length,b=J(a[0],!0),c=0;++c<e;)b=31*(527+b)+J(a[c],!0);return b}function w(a,b,d){return c(d,A)?a===b?!0:null==a||null==b?!1:d.hash(a)===d.hash(b)&&d.equals(a,b):ca(a,b,!0)}function v(a){return c(a,g)?a:new g(a)}function f(a){return v(a).getEnumerator()}function u(b){if(c(b,p)||c(b,s))return b.length;if(c(b,q))return b.count();if(c(b,g)){var d=a(b);if(d&&!k(d)&&c(d.length,h))return d.length}return-1}function l(b,j){if(c(b,p))return j===!1?b:b.concat();if(c(b,s))return b.split("");var e=a(b);if(c(e,p)||c(e,s))return l(e,j);if(e&&k(e.slice))return e.slice(0);var d,g=f(b),h=16,i=0;if(c(b,q)){for(d=new p(b.count());g.next();)d[i++]=g.current;return d}for(d=new p(h);g.next();)i>=h&&(h*=4,d.length=h),d[i++]=g.current;return d.length=i,d}function D(e,a,c){m(a),b(c,h),(c>a.length||e.count()>a.length)&&i(pa);for(var f=l(e),g=f.length,d=-1;++d<g;)a[c+d]=f[d]}function Y(f,e,g,h,i){for(var a=e,c=e+g-1,d=0,b=0;c>=a;){if(b=a+(c-a>>1),d=i.compare(f[b],h),0===d)return b;0>d?a=b+1:c=b-1}return~a}function V(a){return c(a,R)?a:a&&k(a.compare)?R.create(a.compare):R.defaultComparer}function N(a){return c(a,A)?a:a&&k(a.hash)&&k(a.equals)?A.create(a.hash,a.equals):A.defaultComparer}function S(c){var a=c.prototype;b(c,d),z(a,ja),k(a.getEnumerator)||o(a,"getEnumerator",{value:function(){return f(this)}})}function multiplex(a){return v(a)}var d=t.Function,I=t.Object,h=t.Number,s=t.String,ba=t.Boolean,p=t.Array,ua=t.Error,C=t.Math,P=t.Date,X=t.WeakMap,M=t.Symbol,aa,L="function",da="object",T="number",K="string",ea="boolean",xa="symbol",B="Argument was out of the range of valid values.",oa="Method not implemented.",pa="The number of elements in the source is greater than the number of elements that the destination array can contain.",na="The given key was not present in the collection.",ma="An item with the same key has already been added.",G="Collection is empty.",wa="Sequence contains more than one element.",qa="Sequence contains more than one match.",U="Sequence contains no matching element.",E="Sequence contains no elements.",ia="Value is not a number.",$=k(I.defineProperty)?I.defineProperty:function(b,c,a){b[c]=a.get?a.get.apply(b):a.value},Q=k(I.freeze)?I.freeze:function(a){return a},a=function(){if(k(X)){var a=new X;return function(c,b){return b?(a.set(c,b),b):a.get(c)}}return function(b,a){return a?(b.__props__=a,a):b.__props__}}(),J=function(n){function f(a,b){switch(typeof a){case T:return i(a);case K:return d(a);case ea:return a?1:0;default:return null==a?0:a instanceof P?l(a):b&&k(a.__hash__)?a.__hash__(a):m(a)}}function c(a,b){return 31*(527+a)+b}function d(d){for(var a=e,f=d.length,c=0;f>c;c++)a=((a<<5)-a|0)+d.charCodeAt(c)|0;return a&b}function i(a){if(a%1===0)return a>>32;var c=0;switch(a){case h.POSITIVE_INFINITY:c=2139095040;break;case h.NEGATIVE_INFINITY:c=4286578688;break;case 0:c=1073741824;break;case-0:c=3221225472;break;default:-0>=a&&(c=2147483648,a=-a);var d=C.floor(C.log(a)/C.log(2)),e=a/C.pow(2,d)*8388608|0;d+=127,d>=255?(d=255,e=0):0>d&&(d=0),c|=d<<23,c|=8388607&e}return c&b}function l(b){var a=b.getTime();return a^a>>5}var b=2147483647,e=C.floor(32767*C.random())+32767,j=e,a="__hash__",m=function(){if(n&&k(X)){var h=new X;return function(i){var a=h.get(i);if(null==a){if(g(i)){a=e,h.set(i,0);for(var k in i)a=c(a,c(d(k),f(i[k],!0)));a&=b}else a=j++>>32;h.set(i,a)}return a}}return function(i){var h=0;if(typeof i.__hash__!==L||typeof(h=i.__hash__())!==T)if(i.__hash__=function(){return h},g(i)){h=e;for(var k in i)k!==a&&(h=c(h,c(d(k),f(i[k],!0))));h&=b}else h=j++>>32;return h}}(),g=function(){var a=I.prototype,b=I.getPrototypeOf;return k(b)?function(c){return b(c)===a}:function(b){return b.constructor.prototype===a}}();return o(P.prototype,a,{value:function(){return l(this)}}),o(h.prototype,a,{value:function(){return i(this.valueOf())}}),o(s.prototype,a,{value:function(){return d(this.valueOf())}}),o(ba.prototype,a,{value:function(){return this.valueOf()===!0?1:0}}),f}(!0),ca=function(){function d(a,b,d){if(a===b)return!0;if(null==a||null==b)return!1;switch(typeof a){case T:case K:case ea:return a==b;case da:return a instanceof P?c(a,b):d&&k(a.__equals__)?a.__equals__(b):e(a,b);default:return!1}}function c(b,a){return a instanceof P&&b.getTime()===a.getTime()}function b(a,b){return a.valueOf()==b}function e(a,b){if(typeof b===da){if(J(a)!==J(b))return!1;var c;for(var d in a)if(typeof(c=a[d])!==L&&!ca(c,b[d],!0))return!1;return!0}return a==b}var a="__equals__";return o(P.prototype,a,{value:function(a){return c(this,a)}}),o(h.prototype,a,{value:function(a){return b(this,a)}}),o(s.prototype,a,{value:function(a){return b(this,a)}}),o(ba.prototype,a,{value:function(a){return b(this,a)}}),d}(),O=function(){function a(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if(typeof a!=typeof b)return-1;switch(typeof a){case K:return a.localeCompare(b);default:var c=a-b;return isNaN(c)?k(a.localeCompare)?a.localeCompare(b):0:c>0?1:0>c?-1:0}}return a}(),j=function(){function Enumerator(e){var c=!1,a=aa,f=function(b){return c=!0,a=b};b(e,d),o(this,"next",{value:function(){return a=void 0,c=!1,e(f),this.current=a,c}}),this.current=a}return Enumerator}(),g=function(){function Enumerable(b){a(this,b)}function e(a){if(a=a||[],c(a,g))return a.getEnumerator();if(k(a))return a instanceof f?e(a()):a();if(c(a,p)||c(a,s)||c(a.length,h)){var b=-1,l=a.length;return new j(function(c){return++b<l?c(a[b]):void 0})}if(k(a[d])){var i,m=a[d]();return new j(function(a){return(i=m.next()).done?void 0:a(i.value)})}return k(a.getEnumerator)?a.getEnumerator():function(){if(typeof a!==da)return e([a]);var b=[];for(var d in a)b.push(d);var c=-1,f=b.length;return new j(function(d){return++c<f?d(new F(b[c],a[b[c]])):void 0})}()}var d=k(M)&&c(M.iterator,M)?M.iterator:"@@iterator",f=function(){try{return eval("(function*() {}).constructor")}catch(a){return function(){}}}(),l=Q(new Enumerable([]));return o(Enumerable.prototype,d,{value:function(){var a=this.getEnumerator();return{next:function(){return{done:!a.next(),value:a.current}}}}}),n(Enumerable,{getEnumerator:function(){return e(a(this))}},{empty:function(){return l},is:function(a){return null==a?!1:c(a,g)||c(a,p)||c(a,s)||k(a.getEnumerator)||k(a[d])||a instanceof f||c(a.length,h)&&k(a.splice)?!0:!1},range:function(c,a){b(c,h),b(a,h);var d=c+a-1;return(0>a||d>h.MAX_VALUE)&&i(B),new g(function(){var b=-1;return new j(function(d){return++b<a?d(c+b):void(b=-1)})})},repeat:function(c,a){return b(a,h),0>a&&i(B),new g(function(){var b=a;return new j(function(d){return b-->0?d(c):void(b=a)})})}})}(),R=function(){function Comparer(a){b(a,d),o(this,"_comparison",{value:a})}return n(Comparer,{compare:function(a,b){return this._comparison(a,b)}},{defaultComparer:new Comparer(O),create:function(a){return new R(a)}})}(),A=function(){function EqualityComparer(a,c){b(c,d),b(a,d),o(this,"_equality",{value:c}),o(this,"_hashCodeProvider",{value:a})}return n(EqualityComparer,{equals:function(a,b){return this._equality(a,b)},hash:function(a){return this._hashCodeProvider(a)}},{defaultComparer:new EqualityComparer(_,w),create:function(a,b){return new A(a,b)}})}(),q=function(){function Collection(b){g.is(b)&&a(this,l(b,!1))}return n(Collection,g,{count:function(){var b=a(this);return b?u(b):void i(oa)},copyTo:function(a,b){D(this,a,b)},getEnumerator:function(){var b=a(this);return b?f(b):void i(oa)}})}(),ga=function(){function ReadOnlyCollection(c){b(c,H),a(this,c),o(this,"length",{get:function(){return c.length}});for(var d=0,e=c.count();e>d;d++)this[d]=c[d];Q(this)}return n(ReadOnlyCollection,q,{splice:function(){},get:function(b){return a(this).get(b)},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(b,c){a(this).copyTo(b,c)},indexOf:function(b){return a(this).indexOf(b)},items:function(){return a(this).items()},getEnumerator:function(){return f(a(this))}})}(),H=function(){function List(d){var f=arguments,e=0;a(this,this),o(this,"length",{get:function(){return e},set:function(c){b(c,h);var a=e;if(e=C.max(c,0),a>e)do delete this[a];while(a--<e)}}),1===f.length&&null!==d?c(d,h)?e=d:g.is(d)&&!c(d,s)?this.addRange(d):this.add(d):this.addRange(f)}function f(c,a){b(a,h),(0>a||a>=c.length)&&i(B)}return n(List,q,{add:function(a){this[this.length]=a,this.length++},addRange:function(a){m(a),this.insertRange(this.length,a)},asReadOnly:function(){return new ga(this)},binarySearch:function(b){var a=arguments,d=c(a[1],h)?a[1]:0,e=c(a[1],h)?a[2]:this.length,f=V(4===a.length?a[3]:a[1]);return Y(this,d,e,b,f)},clear:function(){this.length=0},count:function(){return this.length},contains:function(a){return-1!==this.indexOf(a)},copyTo:function(a,b){D(this,a,b)},exists:function(a){a=e(a),b(a,d);for(var c=0,f=this.length;f>c;c++)if(a(this[c])===!0)return!0;return!1},find:function(a){a=e(a),b(a,d);for(var c=0,f=this.length;f>c;c++)if(a(this[c])===!0)return this[c];return null},findAll:function(a){a=e(a),b(a,d);for(var f=new p(this.length),g=0,c=0,h=this.length;h>c;c++)a(this[c])===!0&&(f[g++]=this[c]);return f.length=g,new H(f)},findIndex:function(){var a=arguments,i=this.length,g=c(a[0],h)?a[0]:0,k=c(a[1],h)?a[1]:i-g,j=e(a[a.length-1]);for(b(j,d),f(this,g);k-->0&&i>g;){if(j(this[g])===!0)return g;g++}return-1},findLast:function(a){a=e(a),b(a,d);for(var c=this.length;c-->0;)if(a(this[c])===!0)return this[c];return null},findLastIndex:function(){var a=arguments,g=c(a[0],h)?a[0]:this.length-1,j=c(a[1],h)?a[1]:g,i=e(a[a.length-1]);for(b(i,d),f(this,g);j-->0&&g>0;){if(i(this[g])===!0)return g;g--}return-1},forEach:function(a){a=e(a),b(a,d);for(var c=0,f=this.length;f>c;c++)a(this[c])},get:function(a){return f(this,a),this[a]},getRange:function(a,b){return f(this,a+b-1),new H(this.slice(a,a+b))},indexOf:[].indexOf,insert:function(a,c){a!==this.length&&f(this,a);for(var b=++this.length;b-->a;)this[b]=this[b-1];this[a]=c},insertRange:function(a,e){b(a,h),m(e),a!==this.length&&f(this,a);var g=l(e,!1),c=g.length,d=this.length+c;for(this.length=d;d-->a;)this[d]=this[d-c];for(;c-->0;)this[a+c]=g[c]},items:function(){return this.slice()},lastIndexOf:[].lastIndexOf,remove:function(b){var a=this.indexOf(b);return-1!==a?(this.removeAt(a),!0):!1},removeAll:function(g){g=e(g),b(g,d);for(var a=0,c=this.length;c>a&&!g(this[a]);)a++;if(a>=c)return 0;for(var f=a+1;c>f;){for(;c>f&&g(this[f]);)f++;c>f&&(this[a++]=this[f++])}return this.length=a,c-a},removeAt:function(b){f(this,b);for(var a=b,c=--this.length;c>a;a++)this[a]=this[a+1];delete this[c]},removeRange:function(a,b){f(this,a+b-1);for(var c=this.length-b;c>a;a++)this[a]=this[a+b];this.length=c},reverse:function(a,b){a=a||0,b=b||this.length,f(this,a+b-1);for(var d=this.slice(a,a+b).reverse(),c=d.length;c-->0;)this[c+a]=d[c]},slice:[].slice,splice:[].splice,set:function(a,b){f(this,a),this[a]=b},sort:function(){var a,i,d=arguments,j=d[0],l=e(j),m=V(3===d.length?d[3]:j),g=0;for(d.length>0?k(l)?a=this.items().sort(l):(c(j,h)?(g=j,b(d[1],h),f(this,g+d[1]-1),a=this.slice(g,g+d[1])):a=this.items(),a=a.sort(function(a,b){return m.compare(a,b)})):a=this.items().sort(),i=a.length;i-->0;)this[i+g]=a[i]},toArray:function(){return this.items()},trueForAll:function(a){a=e(a),b(a,d);for(var c=0,f=this.length;f>c;c++)if(a(this[c])===!1)return!1;return!0},getEnumerator:function(){var a=-1,b=this.length,c=this;return new j(function(d){return++a<b?d(c[a]):void 0})}})}(),va=function(){function SortedList(d,g){var b=c(d,W)?d:null,f=c(d,h)?d:b?b.count():0,i=V(g?g:b?null:d),j=new p(f),k=new p(f),n=b?b.count():0;if(b)for(var m=l(b).sort(function(a,b){return i.compare(a.key,b.key)}),e=f;e-->0;)j[e]=m[e].key,k[e]=m[e].value;a(this,{size:n,comparer:i,keys:j,values:k})}function e(k,b,g,i){var e=a(k),f=e.size,c=e.keys,j=e.values;if(f==c.length){var d=0===c.length?4:2*c.length,l=h.MAX_VALUE,m=f+1;d>l&&(d=l),m>d&&(d=m),k.capacity(d)}f>b&&(c.splice(b,0,g),j.splice(b,0,i)),e.size++,c[b]=g,j[b]=i}return n(SortedList,q,{add:function(b,f){m(b);var c=a(this),d=Y(c.keys,0,c.size,b,c.comparer);d>=0&&i(ma),e(this,~d,b,f)},get:function(c){var b=this.indexOfKey(c);return b>=0?a(this).values[b]:void i(na)},capacity:function(c){var d=a(this),e=d.keys,f=d.size;return null==c?e.length:(b(c,h),void(c!==e.length&&(f>c&&i(B),d.keys.length=c,d.values.length=c)))},clear:function(){var b=a(this);b.size=0,b.keys.length=0,b.values.length=0},comparer:function(){return a(this).comparer},containsKey:function(a){return this.indexOfKey(a)>=0},containsValue:function(a){return this.indexOfValue(a)>=0},count:function(){return a(this).size},keys:function(){var b=a(this);return new q(b.keys.slice(0,b.size))},values:function(){var b=a(this);return new q(b.values.slice(0,b.size))},indexOfKey:function(c){m(c);var b=a(this);return Y(b.keys,0,b.size,c,b.comparer)},indexOfValue:function(b){return a(this).values.indexOf(b)},remove:function(b){var a=this.indexOfKey(b);return a>=0?(this.removeAt(a),!0):!1},removeAt:function(c){b(c,h);var d=a(this),e=d.keys,f=d.values,g=e.length;(0>c||c>=d.size)&&i(B),d.size--,e.splice(c,1),f.splice(c,1),e.length=g,f.length=g},set:function(c,d){var b=this.indexOfKey(c);return b>=0?void(a(this).values[b]=d):void e(this,~b,c,d)},trimExcess:function(){var b=a(this),c=b._size,d=.9*b.keys.length;d>c&&this.capacity(c)},tryGetValue:function(f,c){b(c,d);var e=this.indexOfKey(f);return e>=0?(c(a(this).values[e]),!0):!1},getEnumerator:function(){var b=a(this),d=b.keys,e=b.values,f=b.size,c=-1;return new j(function(a){return++c<f?a(new F(d[c],e[c])):void 0})}})}(),F=function(){function KeyValuePair(a,b){this.key=a,this.value=b,Q(this)}return n(KeyValuePair,{__hash__:function(){return _(this.key,this.value)},__equals__:function(a){return c(a,F)&&w(this.key,a.key)&&w(this.value,a.value)}})}(),W=function(){function Dictionary(){var b=arguments,d=c(b[0],W)?b[0]:null,e=d?b[1]:N(b[0]),i=d?new x(d.count(),e):c(b[0],h)?new x(b[0],e):new x(e);if(a(this,i),d)for(var g=f(d);g.next();)i.add(g.current.key,g.current.value)}return n(Dictionary,q,{add:function(b,c){m(b),a(this).add(b,c)||i(ma)},clear:function(){a(this).clear()},count:function(){return a(this).count()},containsKey:function(b){return m(b),a(this).contains(b)},containsValue:function(c){for(var b=f(a(this));b.next();)if(w(b.current.value,c))return!0;return!1},copyTo:function(a,b){D(this.keys(),a,b)},keys:function(){return a(this).keys()},values:function(){return a(this).values()},get:function(b){return m(b),a(this).get(b)},set:function(b,c){m(b),a(this).set(b,c)},tryGetValue:function(c,e){m(c),b(e,d);var f=a(this).entry(c);return null!=f?(e(f.value),!0):!1},remove:function(b){return m(b),a(this).remove(b)},getEnumerator:function(){var b=f(a(this));return new j(function(a){for(;b.next();)return a(new F(b.current.key,b.current.value))})}})}(),x=function(){function HashTable(){var b=arguments,f=c(b[0],h)&&b[0]>a[0]?d(b[0]):a[0],g=N(2===b.length?b[1]:b[0]);e(this,f,g)}function f(a,b,c,d){this.hash=a,this.next=b,this.key=c,this.value=d}function d(c){for(var b=0,d=a.length;d>b;b++)if(a[b]>c)return a[b];return a[a.length-1]}function e(b,c,d){c=c||a[0],d=d||b._comparer||A.defaultComparer;var f=new p(c),g=new p(c);b._count=0,b._freeIndex=-1,b._freeCount=0,b._buckets=f,b._entries=g,b._comparer=d;for(var e=0;c>e;e++)f[e]=-1}function b(c,d){for(var e=c._comparer,f=c._buckets,h=c._entries,g=e.hash(d),i=f.length,a=null,b=f[g%i];b>=0;){if(a=h[b],a.hash===g&&e.equals(a.key,d))return b;b=a.next}return-1}function g(e){var h=e._count,b=d(h),c=e._buckets,i=e._entries,f=null,g=0,j=0,a=0;for(c.length=b,i.length=b,a=0;b>a;a++)c[a]=-1;for(a=0;h>a;a++)f=i[a],(j=f.hash)>=0&&(g=j%b,f.next=c[g],c[g]=a);return b}var a=[17,67,257,1031,4099,16411,65537,262147,1048583,4194319,16777259];return n(HashTable,q,{get:function(c){var a=b(this,c);return-1===a&&i(na),this._entries[a].value},entry:function(c){var a=b(this,c);return a>=0?this._entries[a]:null},set:function(a,b){this.add(a,b,!0)},add:function(i,j,m){for(var d=this._entries,e=this._buckets,k=this._comparer,c=k.hash(i),h=c%e.length,b=null,a=e[h];a>=0;){if(b=d[a],b.hash===c&&k.equals(b.key,i))return m?(b.value=j,!0):!1;a=b.next}var l=this._count,n=this._freeCount,o=this._freeIndex,a=0;return n>0?(a=o,this._freeIndex=d[a].next,this._freeCount--):(l===d.length&&(h=c%g(this)),a=l,this._count++),d[a]=new f(c,e[h],i,j),e[h]=a,!0},remove:function(e){for(var a,f=this._comparer,c=this._buckets,g=this._entries,h=f.hash(e),i=h%c.length,d=-1,b=c[i];b>=0;){if(a=g[b],a.hash==h&&f.equals(a.key,e))return 0>d?c[i]=a.next:g[d].next=a.next,a.hash=-1,a.next=this._freeIndex,a.key=null,a.value=null,this._freeIndex=b,this._freeCount++,!0;d=b,b=a.next}return!1},clear:function(){e(this)},count:function(){return this._count-this._freeCount},contains:function(a){return-1!=b(this,a)},comparer:function(){return this._comparer},keys:function(){for(var d=this._count,c=new p(this.count()),e=this._entries,a=null,f=0,b=0;d>b;b++)a=e[b],a.hash>=0&&(c[f++]=a.key);return new q(c)},values:function(){for(var d=this._count,c=new p(this.count()),e=this._entries,a=null,f=0,b=0;d>b;b++)a=e[b],a.hash>=0&&(c[f++]=a.value);return new q(c)},getEnumerator:function(){var a=0,b=null,c=this._count,d=this._entries;return new j(function(e){for(;c>a;){if(b=d[a],b.hash>=0)return a++,e(new F(b.key,b.value));a++}})}})}(),y=function(){function HashSet(){var b=arguments,d=g.is(b[0])?v(b[0]):null,h=N(1===b.length&&null==d?b[0]:b[1]),e=new x(u(b[0]),h);if(a(this,e),d)for(var f=l(b[0],!1),c=0,i=f.length;i>c;c++)e.add(f[c],null)}function o(a,b){this.uniqueCount=a,this.unfoundCount=b}function h(a,b){return c(a,y)&&c(b,y)&&a.comparer()===b.comparer()}function k(c,d){for(var b=f(d),e=a(c);b.next();)if(!e.contains(b.current))return!1;return!0}function p(c,d){for(var b=f(c),e=a(d);b.next();)if(!e.contains(b.current))return!1;return!0}function i(c,g,h){var b=f(g);if(0===c.count()&&b.next())return new o(0,1);for(var d=0,e=0,i=a(c),j=new x(c.comparer());b.next();)if(i.contains(b.current))j.add(b.current,null)&&e++;else if(d++,h)break;return new o(e,d)}return n(HashSet,q,{add:function(b){return a(this).add(b,null)},clear:function(){a(this).clear()},count:function(){return a(this).count()},contains:function(b){return a(this).contains(b)},copyTo:function(b,c){D(a(this).keys(),b,c)},comparer:function(){return a(this).comparer()},remove:function(b){return a(this).remove(b)},removeWhere:function(c){c=e(c),b(c,d);for(var f,g=this.count(),i=a(this),j=l(this,!1),h=0;g-->0;)f=j[g],c(f)&&i.remove(f)&&h++;return h},exceptWith:function(b){if(m(b),0!==this.count()){if(b===this)return void this.clear();for(var c=f(b),d=a(this);c.next();)d.remove(c.current)}},intersectWith:function(b){if(m(b),0!==this.count()){var c=u(b);if(-1!==c){if(0===c)return void this.clear();if(h(this,b)){for(var d,g=a(this),i=a(b),e=l(this,!1),f=e.length;f-->0;)i.contains(d=e[f])||g.remove(d);return}}this.intersectWith(new y(b,this.comparer()))}},isProperSubsetOf:function(a){m(a);var b=u(a);if(-1!==b){if(0===this.count())return b>0;if(h(this,a))return this.count()>=b?!1:p(this,a)}var c=i(this,a,!1);return c.uniqueCount===this.count()&&c.unfoundCount>0},isProperSupersetOf:function(a){if(m(a),0===this.count())return!1;var b=u(a);if(-1!==b){if(0===b)return!0;if(h(this,a))return b>=this.count()?!1:k(this,a)}var c=i(this,a,!0);return c.uniqueCount<this.count()&&0===c.unfoundCount},isSubsetOf:function(a){if(m(a),0===this.count())return!0;if(h(this,a))return this.count()>a.count()?!1:p(this,a);var b=i(this,a,!1);return b.uniqueCount===this.count()&&b.unfoundCount>=0},isSupersetOf:function(a){m(a);var b=u(a);if(-1!==b){if(0===b)return!0;if(h(this,a)&&b>this.count())return!1}return k(this,a)},overlaps:function(b){if(m(b),0===this.count())return!1;for(var c=f(b),d=a(this);c.next();)if(d.contains(c.current))return!0;return!1},setEquals:function(a){if(m(a),h(this,a))return this.count()!==a.count()?!1:k(this,a);var b=u(a);if(-1!==b&&0===this.count()&&b>0)return!1;var c=i(this,a,!0);return c.uniqueCount===this.count()&&0===c.unfoundCount},symmetricExceptWith:function(b){if(m(b),0===this.count())return void this.unionWith(b);if(b===this)return void this.clear();if(h(this,b))for(var c=f(b),d=a(this);c.next();)d.remove(c.current)||d.add(c.current,null);else this.symmetricExceptWith(new y(b,this.comparer()))},unionWith:function(b){m(b);for(var c=f(b),d=a(this);c.next();)d.add(c.current,null)},getEnumerator:function(){var b=f(a(this));return new j(function(a){for(;b.next();)return a(b.current.key)})}})}(),r=function(){function LinkedListNode(a){this._value=a,this._list=null,this._next=null,this._prev=null}return n(LinkedListNode,{value:function(){return this._value},list:function(){return this._list},next:function(){return null==this._next||this._next===a(this._list).head?null:this._next},previous:function(){return null==this._prev||this===a(this._list).head?null:this._prev}})}(),ra=function(){function LinkedList(c){if(a(this,{count:0,head:null}),c)for(var d=l(c,!1),b=0,e=d.length;e>b;b++)this.addLast(d[b])}function f(a){a._list=null,a._next=null,a._prev=null}function e(f,e,c){b(e,r),b(c,r),d(c),d(e,f),c._list=f,c._next=e,c._prev=e._prev,e._prev._next=c,e._prev=c,a(f).count++}function g(e,c){b(c,r),d(c);var f=a(e);c._list=e,c._next=c,c._prev=c,f.head=c,f.count++}function d(a,b){(null===b&&null!=a._list||a._list!=b)&&i("Invalid node list.")}return n(LinkedList,q,{add:function(a){this.addLast(a)},clear:function(){for(var c=a(this),b=c.head;null!=b;){var d=b;b=b.next(),f(d)}c.head=null,c.count=0},count:function(){return a(this).count},contains:function(a){return null!=this.find(a)},copyTo:function(a,b){D(this,a,b)},getFirst:function(){return a(this).head},getLast:function(){var b=a(this).head;return null==b?null:b._prev},addAfter:function(d,f){b(d,r);var a;return c(f,r)?(a=f,e(this,d._next,a)):(a=new r(f),this.addAfter(d,a)),a},addBefore:function(f,g){b(f,r);var d,h=a(this);return c(g,r)?(d=g,e(this,f,d),f===h.head&&(h.head=d)):(d=new r(g),this.addBefore(f,d)),d},addFirst:function(h){var b,f;return c(h,r)?(b=h,f=a(this),d(b),null==f.head?g(this,b):(e(this,f.head,b),f.head=b)):(b=new r(h),this.addFirst(b)),b},addLast:function(f){var b,h;return c(f,r)?(b=f,h=a(this),d(b),null==h.head?g(this,b):e(this,h.head,b)):(b=new r(f),this.addLast(b)),b},find:function(d){var c=a(this),b=c.head;if(null!=b)if(null!=d)do{if(w(b._value,d))return b;b=b._next}while(b!==c.head);else do{if(null==b._value)return b;b=b._next}while(b!==c.head);return null},findLast:function(d){var e=a(this);if(null==e.head)return null;var c=e.head._prev,b=c;if(null!=b)if(null!=d)do{if(w(b._value,d))return b;b=b._prev}while(b!==c);else do{if(null==b._value)return b;b=b._prev}while(b!==c);return null},remove:function(g){var b,e;return c(g,r)?(b=g,e=a(this),d(b,this),b._next===b?e.head=null:(b._next._prev=b._prev,b._prev._next=b._next,e.head===b&&(e.head=b._next)),f(b),e.count--,!0):null!=(b=this.find(g))?(this.remove(b),!0):!1},removeFirst:function(){var b=a(this);null==b.head&&i(G),this.remove(b.head)},removeLast:function(){var b=a(this);null==b.head&&i(G),this.remove(b.head._prev)},getEnumerator:function(){var c=a(this).head,b=c;return new j(function(a){if(null!=b){var d=b._value;return b=b._next,b===c&&(b=null),a(d)}})}})}(),sa=function(){function Queue(b){var c=[];null!=b&&(c=l(b)),a(this,c)}return n(Queue,q,{clear:function(){a(this).length=0},count:function(){return a(this).length},contains:function(b){return-1!==a(this).indexOf(b)},copyTo:function(a,b){D(this,a,b)},dequeue:function(){var b=a(this),c=b.length;return c>0?b.shift():void i(G)},enqueue:function(b){a(this).push(b)},peek:function(){var b=a(this),c=b.length;return c>0?b[0]:void i(G)},toArray:function(){return a(this).slice()},getEnumerator:function(){return f(a(this))}})}(),ta=function(){function Stack(b){var c=[];null!=b&&(c=l(b)),a(this,c)}return n(Stack,q,{clear:function(){a(this).length=0},count:function(){return a(this).length},contains:function(b){return-1!==a(this).indexOf(b)},copyTo:function(a,b){D(this,a,b)},peek:function(){var b=a(this),c=b.length;return c>0?b[c-1]:void i(G)},pop:function(){var b=a(this),c=b.length;return c>0?b.pop():void i(G)},push:function(b){a(this).push(b)},toArray:function(){return a(this).slice()},getEnumerator:function(){return f(a(this))}})}(),fa=function(){function Lookup(j,k,h,m){for(var b,c,d,e,g=new x(u(j),m),i=l(j,!1),n=i.length,f=0;n>f;f++)b=i[f],c=k(b),d=g.entry(c),e=h?h(b):b,null==d?g.add(c,new la(c,[e])):d.value.elements.push(e);a(this,g)}return n(Lookup,q,{contains:function(b){return a(this).contains(b)},count:function(){return a(this).count()},get:function(c){var b=a(this).entry(c);return null==b?g.empty():b.value},getEnumerator:function(){var b=f(a(this));return new j(function(a){for(;b.next();)return a(b.current.value)})}})}(),la=function(){function Grouping(a,b){this.key=a,this.elements=b,Q(this)}return n(Grouping,q,{count:function(){return this.elements.length},getEnumerator:function(){return f(this.elements)}})}(),Z=function(){function OrderedEnumerable(g,c,h,i,f){var j=V(h);c=e(c),b(c,d),z(this,{source:function(){return g},sorter:function(d){var b=new a(c,j,i,d);return null!=f&&(b=f.sorter(b)),b}})}function a(a,b,c,d){this.keySelector=a,this.comparer=b,this.descending=c,this.next=d}return n(a,{computeKeys:function(c,b){for(var d=new p(b),e=this.keySelector,a=0;b>a;a++)d[a]=e(c[a]);null!=this.next&&this.next.computeKeys(c,b),this.keys=d},compareKeys:function(a,b){var c=this.comparer.compare(this.keys[a],this.keys[b]);return 0===c?null==this.next?a-b:this.next.compareKeys(a,b):this.descending?-c:c},sort:function(d,a){this.computeKeys(d,a);for(var c=new p(a),b=0;a>b;b++)c[b]=b;return this.quickSort(c,0,a-1),c},quickSort:function(c,d,e){do{var a=d,b=e,f=c[a+(b-a>>1)];do{for(;a<c.length&&this.compareKeys(f,c[a])>0;)a++;for(;b>=0&&this.compareKeys(f,c[b])<0;)b--;if(a>b)break;if(b>a){var g=c[a];c[a]=c[b],c[b]=g}a++,b--}while(b>=a);e-a>=b-d?(b>d&&this.quickSort(c,d,b),d=a):(e>a&&this.quickSort(c,a,e),e=b)}while(e>d)}}),n(OrderedEnumerable,g,{createOrderedEnumerable:function(a,b,c){return new OrderedEnumerable(this.source(),a,b,c,this)},thenBy:function(a,b){return this.createOrderedEnumerable(a,b,!1)},thenByDescending:function(a,b){return this.createOrderedEnumerable(a,b,!0)},getEnumerator:function(){var a,b,d=this.source(),e=this,c=0;return new j(function(f){return null==a&&(a=l(d),b=e.sorter(null).sort(a,a.length)),c<a.length?f(a[b[c++]]):void 0})}})}(),ja=function(){function n(c,d){var a=o(c);if(a){for(var b=0,g=a.length;g>b;b++)if(d(a[b])===!1)return!1}else for(var e=f(c);e.next();)if(d(e.current)===!1)return!1;return!0}function o(b){if(c(b,p)||c(b,s)||c(b,H)||c(b,ga))return b;var d=a(b);return d&&(c(d,p)||c(d,s)||c(d.length,h)&&k(d.splice))?d:null}function q(b,c,d){var a=new x(u(b),d);return n(b,function(b){var d=c(b),e=a.entry(d);null==e?a.add(d,[b]):e.value.push(b)}),a}var r={aggregate:function(h,o,a){var c,j=arguments,k=e(1===j.length?h:o),m=1===j.length?aa:h,g=l(this,!1),n=g.length,f=0;for(b(k,d),a&&(a=e(a),b(a,d)),m===aa?(0===n&&i(U),c=g[f++]):c=m;n>f;f++)c=k(c,g[f]);return a?a(c):c},all:function(a){return a=e(a),b(a,d),n(this,function(b){return a(b)===!0})},any:function(a){return a=e(a),!n(this,function(b){return a?a(b)===!1:!1})},asEnumerable:function(){return v(this)},average:function(a){if(a)return a=e(a),b(a,d),v(this).select(a).average();var c=l(this,!1),f=c.length,g=0;for(0===f&&i(E);f-->0;)g+=c[f];return isNaN(g)&&i(ia),g/c.length},concat:function(a){m(a);var b=this;return new g(function(){var c=f(b),d=f(a);return new j(function(a){for(;c.next();)return a(c.current);for(;d.next();)return a(d.current);d=c=null})})},contains:function(b,c){for(var d=N(c),a=f(this);a.next();)if(w(a.current,b,d))return!0;return!1},count:function(a){if(a)return a=e(a),b(a,d),v(this).where(a).count();var c=u(this);if(-1!==c)return c;for(var g=f(this),c=0;g.next();)c++;return c},defaultIfEmpty:function(a){var b=this;return new g(function(){var c=f(b),d=!0;return new j(function(b){if(c.next()){d=!1;do return b(c.current);while(c.next())}else if(d)return d=!1,b(null==a?null:a)})})},distinct:function(b){var a=this;return new g(function(){var c=f(a),d=new x(u(a),b);return new j(function(a){for(;c.next();)if(d.add(c.current))return a(c.current)})})},except:function(a,b){var c=this;return new g(function(){var d=f(c),e=new y(a,b);return new j(function(a){for(;d.next();)if(!e.contains(d.current))return a(d.current)})})},elementAt:function(a){b(a,h),0>a&&i(B);var c=o(this);if(c){if(a<c.length)return c[a]}else for(var d=f(this),e=0;d.next();)if(a===e++)return d.current;i(B)},first:function(a){var b={},c=this.firstOrDefault(a,b);return c===b&&i(a?U:E),c},firstOrDefault:function(a,c){var b=c||null;return a=e(a),n(this,function(c){return null==a||a(c)?(b=c,!1):void 0}),b},forEach:function(a){a=e(a),b(a,d);var c=0;n(this,function(b){a(b,c++)})},groupBy:function(c){c=e(c),b(c,d);var a=arguments,i=e(a[2]),h=e(a[3]),k=2!==a.length||i?3!==a.length||h?a[3]:a[2]:a[1],l=this;return new g(function(){var a=f(new fa(l,c,i,k));return new j(function(b){if(h)for(;a.next();)return b(h(a.current.key,a.current.value));else for(;a.next();)return b(a.current)})})},groupJoin:function(i,a,c,h,k){a=e(a),c=e(c),h=e(h),m(i),b(a,d),b(c,d),b(h,d);var l=this;return new g(function(){var b=f(l),d=q(i,c,k);return new j(function(e){for(;b.next();){var c=d.entry(a(b.current));return e(h(b.current,c?new g(c.value):g.empty()))}})})},intersect:function(a,b){var c=this;return new g(function(){var d=f(c),e=new y(a,b);return new j(function(a){for(;d.next();)if(e.contains(d.current))return a(d.current)})})},join:function(i,a,c,h,k){a=e(a),c=e(c),h=e(h),m(i),b(a,d),b(c,d),b(h,d);var l=this;return new g(function(){var b,e,d=f(l),n=q(i,c,k),m=0;return d.next()?new j(function(c){do{if(null==b){if(e=n.entry(a(d.current)),null==e)continue;b=e.value}if(m<b.length)return c(h(d.current,b[m++]));m=0,b=null}while(d.next())}):g.empty().getEnumerator()})},last:function(a){var b={},c=this.lastOrDefault(a,b);return c===b&&i(a?U:E),c},lastOrDefault:function(a,f){a=e(a);var d=f||null,b=o(this);if(b){var c=b.length;if(a){for(;c--;)if(a(b[c]))return b[c]}else if(c>0)return b[c-1]}else n(this,function(b){(null==a||a(b))&&(d=b)});return d},max:function(a){if(a)return a=e(a),b(a,d),v(this).select(a).max();var f=l(this,!1),c=f.length;if(0!==c){for(var g=f[--c];c-->0;)O(f[c],g)>0&&(g=f[c]);return g}i(E)},min:function(a){if(a)return a=e(a),b(a,d),v(this).select(a).min();var f=l(this,!1),c=f.length;

if(0!==c){for(var g=f[--c];c-->0;)O(f[c],g)<0&&(g=f[c]);return g}i(E)},ofType:function(a){b(a,d);var e=this;return new g(function(){var b=f(e);return new j(function(d){for(;b.next();)if(c(b.current,a))return d(b.current)})})},orderBy:function(a,b){return new Z(this,a,b,!1)},orderByDescending:function(a,b){return new Z(this,a,b,!0)},reverse:function(){var a=l(this);return new g(a.reverse())},sequenceEqual:function(e,f){var b=l(this,!1),c=l(e,!1),g=N(f),d=b.length;if(d===c.length){for(var a=0;d>a;a++){var h=b[a],i=c[a];if(!w(h,i,g))return!1}return!0}return!1},select:function(a){a=e(a),b(a,d);var c=this;return new g(function(){var b=f(c),d=0;return new j(function(c){for(;b.next();)return c(a(b.current,d++))})})},selectMany:function(c,a){c=e(c),b(c,d),a&&(a=e(a),b(a,d));var h=this;return new g(function(){var b,d=f(h),e=0;return new j(function(g){for(;null!=b||d.next();){for(b=b||f(c(d.current,e++));b.next();)return g(a?a(d.current,b.current):b.current);b=null}})})},single:function(a){var b={},c=this.singleOrDefault(a,b);return c===b&&i(a?U:E),c},singleOrDefault:function(a,d){var b=0,c=d||null;return a=e(a),n(this,function(d){if(null==a||a(d)){if(b>1)return!1;c=d,b++}}),2>b?c:void i(a?qa:wa)},skip:function(a){b(a,h);var d=this,c=o(this);return new g(c?l(c,!1).slice(a):function(){var b=f(d),c=0;return new j(function(d){for(;b.next();)if(c++>=a)return d(b.current)})})},skipWhile:function(a){a=e(a),b(a,d);var c=this;return new g(function(){var b=f(c),d=!1,e=-1;return new j(function(c){for(;b.next();)if(e++,d||a(b.current,e)||(d=!0),d)return c(b.current)})})},sum:function(a){if(a)return a=e(a),b(a,d),v(this).select(a).sum();for(var f=l(this,!1),g=f.length,c=0;g-->0;)c+=f[g];return isNaN(c)&&i(ia),c},take:function(a){b(a,h);var d=this,c=o(this);return new g(c?l(c,!1).slice(0,a):function(){var b=f(d),c=0;return new j(function(d){for(;c++<a&&b.next();)return d(b.current)})})},takeWhile:function(a){a=e(a),b(a,d);var c=this;return new g(function(){var b=f(c),d=-1;return new j(function(c){for(;b.next()&&(d++,a(b.current,d));)return c(b.current)})})},toArray:function(){return l(this)},toDictionary:function(a){a=e(a),b(a,d);var c=arguments,f=e(c[1]),h=2!==c.length||f?c[2]:c[1],g=new W(h);return n(this,function(b){return g.add(a(b),f?f(b):b)}),g},toList:function(){return new H(this)},toLookup:function(a){a=e(a||"t => t"),b(a,d);var c=arguments,f=e(c[1]),g=2!==c.length||f?c[2]:c[1];return new fa(this,a,f,g)},union:function(a,b){var c=this;return new g(function(){var d=f(c),e=f(a),g=new y(b);return new j(function(a){for(;d.next();)if(g.add(d.current))return a(d.current);for(;e.next();)if(g.add(e.current))return a(e.current)})})},where:function(a){a=e(a),b(a,d);var c=this;return new g(function(){var b=f(c),d=0;return new j(function(c){for(;b.next();)if(a(b.current,d++))return c(b.current)})})},zip:function(c,a){a=e(a),b(a,d);var h=this;return new g(function(){var d=f(h),b=f(c);return new j(function(c){for(;d.next()&&b.next();)return c(a(d.current,b.current));b=null})})}};return r}();S(p),S(s),S(g);var mx=ha(multiplex,{runtime:ha({hash:J,equals:ca,compare:O,lambda:e,define:o,mixin:z}),extensions:ha(ja),hash:_,equals:w,compare:O,range:g.range,repeat:g.repeat,empty:g.empty,is:g.is,extend:S,Enumerator:j,Enumerable:g,Collection:q,ReadOnlyCollection:ga,List:H,SortedList:va,Dictionary:W,KeyValuePair:F,HashSet:y,LinkedList:ra,LinkedListNode:r,Queue:sa,Stack:ta,Lookup:fa,Grouping:la,OrderedEnumerable:Z,Comparer:R,EqualityComparer:A});z(t,{mx:mx,multiplex:mx})}(window||this);
//# sourceMappingURL=multiplex.map